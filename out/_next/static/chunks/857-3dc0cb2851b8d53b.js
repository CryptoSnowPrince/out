"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[857],{66245:function(e,n,t){t.d(n,{L:function(){return o},Z:function(){return y}});var r,o,i=t(70865),a=t(96670),s=t(26297),l=t(52322),c=t(73921),u=t(5437),d=t(87900),m=t(47496),x=t(61219),f=t(99169),p=t(25427),h=t(68303),k=t(517),g=t(98788),Z=t(45680),v=t(5966);(0,g.Z)(function(e,n,t,r){var o;return(0,Z.__generator)(this,function(i){switch(i.label){case 0:return o=r?v.X[r]?void 0:r:void 0,[4,window.ethereum.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:e,symbol:n,decimals:t,image:o}}})];case 1:return[2,i.sent()]}})});var b=function(){var e,n,t,r,o;return!(null==window?void 0:null===(e=window.ethereum)||void 0===e?void 0:e.isSafePal)&&((null==window?void 0:null===(n=window.ethereum)||void 0===n?void 0:n.isMetaMask)||(null==window?void 0:null===(t=window.ethereum)||void 0===t?void 0:t.isTrust)||(null==window?void 0:null===(r=window.ethereum)||void 0===r?void 0:r.isCoinbaseWallet)||(null==window?void 0:null===(o=window.ethereum)||void 0===o?void 0:o.isTokenPocket))};(r=o||(o={}))[r.NO_TEXT=0]="NO_TEXT",r[r.TEXT=1]="TEXT",r[r.TEXT_WITH_ASSET=2]="TEXT_WITH_ASSET";var j={Binance:u.Z,"Coinbase Wallet":d.Z,Opera:m.Z,TokenPocket:x.Z,"Trust Wallet":f.Z,MetaMask:p.Z},w=function(e,n){var t,r,o,a,s=(0,i.Z)({width:"16px"},e&&{ml:e});if(n&&j[n]){var c=j[n];return(0,l.jsx)(c,(0,i.Z)({},s))}return(null==window?void 0:null===(t=window.ethereum)||void 0===t?void 0:t.isTrust)?(0,l.jsx)(f.Z,(0,i.Z)({},s)):(null==window?void 0:null===(r=window.ethereum)||void 0===r?void 0:r.isCoinbaseWallet)?(0,l.jsx)(d.Z,(0,i.Z)({},s)):(null==window?void 0:null===(o=window.ethereum)||void 0===o?void 0:o.isTokenPocket)?(0,l.jsx)(x.Z,(0,i.Z)({},s)):(null==window||null===(a=window.ethereum)||void 0===a||a.isMetaMask,(0,l.jsx)(p.Z,(0,i.Z)({},s)))},y=function(e){var n=e.tokenAddress,t=e.tokenSymbol,r=e.tokenDecimals,u=e.tokenLogo,d=e.textOptions,m=void 0===d?o.NO_TEXT:d,x=e.marginTextBetweenLogo,f=(0,s.Z)(e,["tokenAddress","tokenSymbol","tokenDecimals","tokenLogo","textOptions","marginTextBetweenLogo"]),p=(0,c.$G)().t,g=(0,k.mA)(),Z=g.connector,j=g.isConnected,y=b();return(!Z||"Binance"!==Z.name)&&Z&&Z.watchAsset&&j&&y?(0,l.jsxs)(h.Z,(0,a.Z)((0,i.Z)({},f),{onClick:function(){var e,o=u?v.X[u]?void 0:u:void 0;null===(e=Z.watchAsset)||void 0===e||e.call(Z,{address:n,symbol:t,image:o,decimals:r})},children:[m!==o.NO_TEXT&&(m===o.TEXT?p("Add to Wallet"):p("Add %asset% to Wallet",{asset:t})),w(void 0===x?"0px":x,null==Z?void 0:Z.name)]})):null}},69009:function(e,n,t){var r=t(92228);function o(){var e=(0,r.Z)(["\n  border: 1px solid ",";\n  width: 100%;\n"]);return o=function(){return e},e}var i=t(3411).ZP.hr.withConfig({componentId:"sc-d9299de2-0"})(o(),function(e){return e.theme.colors.cardBorder});n.Z=i},5966:function(e,n,t){t.d(n,{X:function(){return r}});var r={}},49913:function(e,n,t){t.d(n,{O:function(){return d},q:function(){return u}});var r=t(70865),o=t(26297),i=t(52322),a=t(25715),s=t(87168),l=t(72027),c=function(e){var n=(null==e?void 0:e.isNative)?e.wrapped.address:e.address;return e.chainId!==l.a_.BSC?"/images/".concat(e.chainId,"/tokens/").concat(n,".png"):"/images/tokens/".concat(n,".png")},u=function(e){var n=e.primaryToken,t=e.secondaryToken,s=(0,o.Z)(e,["primaryToken","secondaryToken"]);return(0,i.jsx)(a.Z,(0,r.Z)({primarySrc:c(n),secondarySrc:c(t)},s))},d=function(e){var n=e.token,t=(0,o.Z)(e,["token"]);return(0,i.jsx)(s.Z,(0,r.Z)({src:c(n)},t))}},6208:function(e,n,t){var r=t(2784),o=t(517),i=t(56521),a=t(42195),s=t(6391),l=t.n(s);n.Z=function(e){var n=(0,o.mA)().address,t=(0,i.kL)().reader,s=(0,r.useMemo)(function(){return n&&e?{contract:t,methodName:"allowance",params:[n,e]}:null},[n,t,e]),c=(0,a.Av)(s),u=c.data,d=c.mutate;return{isVaultApproved:!!u&&u.gt(0),allowance:new(l())(null==u?void 0:u.toString()),setLastUpdated:d}}},85659:function(e,n,t){var r=t(98788),o=t(45680),i=t(52322),a=t(90711),s=t(73921),l=t(56521),c=t(25130),u=t(25571),d=t(90395),m=t(86054);n.Z=function(e,n,t){var x,f=(0,s.$G)().t,p=(0,c.p)().toastSuccess,h=(0,d.Z)(),k=h.fetchWithCatchTxError,g=h.loading,Z=(0,u.d)().callWithGasPrice,v=(0,l.kL)().signer;return{handleApprove:(x=(0,r.Z)(function(){var r;return(0,o.__generator)(this,function(o){switch(o.label){case 0:return[4,k(function(){return Z(v,"approve",[n,a.Bz])})];case 1:return(null==(r=o.sent())?void 0:r.status)&&(p(f("Contract Enabled"),(0,i.jsx)(m.Y,{txHash:r.transactionHash,children:t})),e()),[2]}})}),function(){return x.apply(this,arguments)}),pendingTx:g}}},3024:function(e,n,t){t.d(n,{o:function(){return y}});var r=t(98788),o=t(87394),i=t(45680),a=t(10528),s=t(49222),l=t(90711),c=t(66188),u=t.n(c),d=t(16816),m=t(84951),x=t(2784),f=t(72239),p=t(2303),h=t(81254),k=t(39241),g=t(27717),Z=t(60242),v=(0,h.Oc)(),b=a.O$.from("1000000000000"),j=function(e,n,t){return s.xs.from(e).mulUnsafe(s.xs.from(Math.max(n,0))).divUnsafe(s.xs.from(t)).divUnsafe(s.xs.from(b))},w=function(e,n){return s.xs.from(e).mulUnsafe(n.addUnsafe(s.xs.from("1")))};function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.duration,t=void 0===n?g.VO:n,a=(0,f.Xo)(),c=a.totalShares,h=void 0===c?k.HW:c,b=a.pricePerFullShare,y=void 0===b?k.HW:b,S=a.fees,C=(void 0===S?{performanceFeeAsDecimal:2}:S).performanceFeeAsDecimal,T=(0,x.useMemo)(function(){return s.xs.from(h.toString())},[h]),A=(0,x.useMemo)(function(){return s.xs.from(y.toString())},[y]),D=(0,p.Z)("masterChef-total-cake-pool-emission",(0,r.Z)(function(){var e,n,t,r,a,l;return(0,i.__generator)(this,function(i){switch(i.label){case 0:return e=[{address:v,name:"cakePerBlock",params:[!1]},{address:v,name:"poolInfo",params:[0]},{address:v,name:"totalSpecialAllocPoint"}],[4,(0,Z.vf)({abi:m,calls:e})];case 1:return n=o.Z.apply(void 0,[i.sent(),3]),t=(0,o.Z)(n[0],1)[0],r=n[1],a=(0,o.Z)(n[2],1)[0],l=s.xs.from(r.allocPoint).divUnsafe(s.xs.from(a)),[2,s.xs.from(t).mulUnsafe(s.xs.from(d.Bi)).mulUnsafe(l)]}})})).data,L=(0,x.useMemo)(function(){return D&&!A.isZero()&&!T.isZero()&&D.mulUnsafe(s.xs.from(l.Ce)).divUnsafe(A).divUnsafe(T).mulUnsafe(s.xs.from(100)).toString()},[A,D,T]),P=(0,x.useMemo)(function(){return j(g.xt,t,g.A0)},[t]),I=(0,x.useMemo)(function(){return L&&w(L,P).toString()},[P,L]),M=(0,x.useCallback)(function(e){return j(g.xt,e,g.A0)},[]);return{flexibleApy:(0,x.useMemo)(function(){if(L&&C){var e=u()(1-C/100);return s.xs.from(L).mulUnsafe(s.xs.from(e)).toString()}return L},[L,C]),lockedApy:I,getLockedApy:(0,x.useCallback)(function(e){return L&&w(L,M(e)).toString()},[L,M]),boostFactor:(0,x.useMemo)(function(){return P.addUnsafe(s.xs.from("1"))},[P]),getBoostFactor:(0,x.useCallback)(function(e){return M(e).addUnsafe(s.xs.from("1"))},[M])}}},78198:function(e,n,t){t.d(n,{At:function(){return a},Ch:function(){return o},Eg:function(){return i},rE:function(){return s}});var r=t(91713),o=function(e){return Math.floor(e/86400)},i=function(e){return 1e3*parseInt(e)},a=function(e){var n=new Date(e);return new Date>n||!Number.isFinite(e)?"0 seconds":(0,r.Z)(n,{unit:"day"})},s=function(e,n){var t=new Date(e);return new Date>t||!Number.isFinite(e)?"0 seconds":(0,r.Z)(t,{unit:n})}},10680:function(e,n,t){var r,o=t(70865),i=t(96670),a=t(52322),s=t(90327),l=t(93263),c=t(27717),u=t(98826),d=t(97384);n.Z=(r=l.y,function(e){var n,t,l=(0,s.Z)().account,m=(0,u.je)(),x=(0,d.zy)(e.pool,m),f=x.shouldShowBlockCountdown,p=x.hasPoolStarted,h=null!==(t=null===(n=c.Y4[e.pool.vaultKey])||void 0===n?void 0:n.autoCompoundFrequency)&&void 0!==t?t:0;return(0,a.jsx)(r,(0,i.Z)((0,o.Z)({},e),{shouldShowApr:p||!f,account:l,autoCompoundFrequency:h}))})},75967:function(e,n,t){var r=t(52322),o=t(32301),i=t(5406),a=t(73921),s=t(76972),l=t(72239),c=t(50071),u=t(97384);n.Z=function(e){var n=e.pool,t=e.account,d=(0,a.$G)(),m=d.t,x=d.currentLanguage.locale,f=n.earningTokenPrice,p=(0,l.eB)(n.vaultKey),h=p.pricePerFullShare,k=p.userData,g=(0,u.UN)(t,k.cakeAtLastUserAction,k.userShares,h,f,n.vaultKey===c.om.CakeVault?k.currentPerformanceFee.plus(k.currentOverdueFee).plus(k.userBoostedShare):null),Z=g.autoCakeToDisplay,v=g.autoUsdToDisplay,b=k.lastUserActionTime?1e3*parseInt(k.lastUserActionTime):0,j=(0,s.Z)(Date.now(),b),w=j?Z/j:0,y=j?v/j:0;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o.Z,{children:[m("Earned since your last action"),":"]}),(0,r.jsx)(o.Z,{bold:!0,children:new Date(b).toLocaleString(x,{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1})}),j?(0,r.jsxs)(i.ZP,{mt:"12px",children:[(0,r.jsxs)(o.Z,{children:[m("Hourly Average"),":"]}),(0,r.jsxs)(o.Z,{bold:!0,children:[w<.01?"<0.01":w.toFixed(2)," CAKE",(0,r.jsxs)(o.Z,{display:"inline-block",ml:"5px",children:["(",y<.01?"<0.01":"~".concat(y.toFixed(2))," USD)"]})]})]}):null]})}},87828:function(e,n,t){t.d(n,{Z:function(){return h}});var r=t(52322),o=t(96914),i=t(32301),a=t(33080),s=t(93783),l=t(517),c=t(73921),u=t(91225),d=t(70008),m=t(72239),x=t(78198),f=t(20871),p=function(e){var n=e.secondsRemaining,t=(0,c.$G)().t,o=(0,f.Z)(n),a=o.days,s=o.hours,l=o.minutes;return(0,r.jsx)(i.Z,{bold:!0,fontSize:"14px",children:t("%day%d:%hour%h:%minute%m",{day:a,hour:s,minute:l})})},h=function(e){var n=e.isTableVariant,t=e.vaultKey,f=(0,c.$G)().t,h=(0,l.mA)().address,k=(0,m.eB)(t),g=k.userData,Z=g.lastDepositedTime,v=g.userShares,b=k.fees,j=b.withdrawalFee,w=b.withdrawalFeePeriod,y=j/100||"-",S=w?(0,x.Ch)(w):"-",C=(0,o.Z)((0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Z,{bold:!0,mb:"4px",children:f("Unstaking fee: %fee%%",{fee:y})}),(0,r.jsx)(i.Z,{children:f("Only applies within %num% days of staking. Unstaking after %num% days will not include a fee. Timer resets every time you stake new CAKE in the pool.",{num:S})})]}),{placement:"bottom-start"}),T=C.targetRef,A=C.tooltip,D=C.tooltipVisible,L=(0,u.Z)(parseInt(Z,10),v,w),P=L.secondsRemaining,I=L.hasUnstakingFee,M=Z&&!I&&v.gt(0),E=h&&Z&&I,B=w?(0,d.Z)(w):"-";return(0,r.jsxs)(a.Z,{alignItems:n?"flex-start":"center",justifyContent:"space-between",flexDirection:n?"column":"row",children:[D&&A,(0,r.jsxs)(s.Z,{ref:T,small:!0,textTransform:"lowercase",children:[M?"0":y,"% ",M?f("Unstaking Fee"):E?f("unstaking fee before"):f("unstaking fee if withdrawn within %num%h",{num:B})]}),E&&(0,r.jsx)(p,{secondsRemaining:P})]})}},53578:function(e,n,t){t.d(n,{Z:function(){return ei}});var r=t(98788),o=t(87394),i=t(92228),a=t(50930),s=t(45680),l=t(52322),c=t(2784),u=t(3411),d=t(68303),m=t(33080),x=t(32301),f=t(25130),p=t(25385),h=t(19372),k=t(10442),g=t(11655),Z=t(79221),v=t(46678),b=t(11982),j=t(5406),w=t(40330),y=t(517),S=t(73921),C=t(95625),T=t(67845),A=t(72239),D=t(3024),L=t(64122),P=t(56521),I=t(84252),M=t(91225),E=t(6391),B=t.n(E),V=t(32288),F=t(90395),N=t(97124),G=t(50071),O=t(4709),U=t(86054),W=t(27717),$=t(28766),R=t(25571),z=t(49950),_=t(33938),Y=t(96914),K=t(93783),H=t(78198),X=t(87828),q=function(e){var n=e.stakingTokenSymbol,t=e.stakeAmount,r=e.vaultKey,o=(0,S.$G)().t,i=(0,A.eB)(r),a=i.fees,s=a.withdrawalFee,c=a.withdrawalFeePeriod,u=i.userData.lastDepositedTime,d=s/100,f=(parseFloat(t)*(d/100)).toFixed(4),p=c?(0,H.Ch)(c):"-",h=(0,Y.Z)((0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(x.Z,{bold:!0,mb:"4px",children:o("Unstaking fee: %fee%%",{fee:d})}),(0,l.jsx)(x.Z,{children:o("Only applies within %num% days of staking. Unstaking after %num% days will not include a fee. Timer resets every time you stake new CAKE in the pool.",{num:p})})]}),{placement:"top-start"}),k=h.targetRef,g=h.tooltip,Z=h.tooltipVisible,v=u&&(0,M.D)(parseInt(u,10),c);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(m.Z,{mt:"24px",alignItems:"center",justifyContent:"space-between",children:[Z&&g,(0,l.jsx)(K.Z,{ref:k,small:!0,children:o("Unstaking Fee")}),(0,l.jsxs)(x.Z,{fontSize:"14px",children:[t&&v?f:"-"," ",n]})]}),(0,l.jsx)(X.Z,{vaultKey:r})]})},Q=t(97384);function J(){var e=(0,i.Z)(["\n  flex-grow: 1;\n"]);return J=function(){return e},e}function ee(){var e=(0,i.Z)(["\n  cursor: pointer;\n"]);return ee=function(){return e},e}function en(){var e=(0,i.Z)(["\n  width: 72px;\n  max-width: 72px;\n  overflow: hidden;\n  text-align: right;\n  text-overflow: ellipsis;\n"]);return en=function(){return e},e}var et=(0,u.ZP)(d.Z).withConfig({componentId:"sc-4544204d-0"})(J()),er=(0,u.ZP)(m.Z).withConfig({componentId:"sc-4544204d-1"})(ee()),eo=(0,u.ZP)(x.Z).withConfig({componentId:"sc-4544204d-2"})(en()),ei=function(e){var n,t,i,u=e.pool,E=e.stakingMax,Y=e.performanceFee,K=e.isRemovingStake,H=void 0!==K&&K,X=e.onDismiss,J=(0,C.TL)(),ee=u.stakingToken,en=u.earningTokenPrice,ei=u.vaultKey,ea=(0,y.mA)().address,es=(0,F.Z)(),el=es.fetchWithCatchTxError,ec=es.loading,eu=(0,P.Ak)(u.vaultKey),ed=(0,R.d)().callWithGasPrice,em=(0,A.eB)(u.vaultKey),ex=em.pricePerFullShare,ef=em.userData,ep=ef.lastDepositedTime,eh=ef.userShares,ek=ef.balance,eg=ek.cakeAsBigNumber,eZ=ek.cakeAsNumberBalance,ev=(0,S.$G)().t,eb=(0,I.ZP)().theme,ej=(0,f.p)().toastSuccess,ew=(0,o.Z)((0,c.useState)(""),2),ey=ew[0],eS=ew[1],eC=(0,o.Z)((0,c.useState)(0),2),eT=eC[0],eA=eC[1],eD=(0,o.Z)((0,c.useState)(!1),2),eL=eD[0],eP=eD[1],eI=(0,M.Z)(parseInt(ep,10),eh).hasUnstakingFee,eM=(0,T.Iu)(),eE=new(B())(ey).times(eM),eB=eM.gt(0)&&ey?(0,V.uf)(eE.toNumber()):"",eV=(0,D.o)().flexibleApy,eF=(0,L.dI)(ei),eN=eF.allowance,eG=eF.setLastUpdated,eO=(0,L.Le)(ei,eG),eU=eO.handleApprove,eW=eO.pendingTx,e$=(0,c.useMemo)(function(){return!H&&(0,V.Qe)(new(B())(ey)).gt(eN)},[eN,ey,H]),eR={gasLimit:W.Y4[u.vaultKey].gasLimit},ez=(0,O.A1)({principalInUSD:eE.isNaN()?0:eE.toNumber(),apr:+eV,earningTokenPrice:en,performanceFee:Y,compoundFrequency:0})[3]*u.earningTokenPrice,e_=(0,V.uf)(ez,ez>1e4?0:2,ez>1e4?0:2),eY=ee.address?"/swap?outputCurrency=".concat(ee.address):"/swap",eK=(0,V.Qe)(new(B())(ey),ee.decimals),eH=(0,c.useCallback)(function(e){if(e>0){var n=E.dividedBy(100).multipliedBy(e);eS((0,V.NJ)(n,ee.decimals,ee.decimals))}else eS("");eA(e)},[E,ee.decimals]),eX=(n=(0,r.Z)(function(){var e,n;return(0,s.__generator)(this,function(t){switch(t.label){case 0:return e=E.minus(eK).lte(Q.dF),[4,el(function(){return e?ed(eu,"withdrawAll",void 0,eR):u.vaultKey===G.om.CakeFlexibleSideVault?ed(eu,"withdraw",[(0,Q.CE)(eK,ex).sharesAsBigNumber.toString()],eR):ed(eu,"withdrawByAmount",[eK.toString()],eR)})];case 1:return(null==(n=t.sent())?void 0:n.status)&&(ej(ev("Unstaked!"),(0,l.jsx)(U.Y,{txHash:n.transactionHash,children:ev("Your earnings have also been harvested to your wallet")})),null==X||X(),J((0,N.x$)({account:ea}))),[2]}})}),function(){return n.apply(this,arguments)}),eq=(t=(0,r.Z)(function(){var e,n,t=arguments;return(0,s.__generator)(this,function(r){switch(r.label){case 0:return e=t.length>0&&void 0!==t[0]?t[0]:0,[4,el(function(){var n=u.vaultKey===G.om.CakeVault?[e.toString()]:[];return ed(eu,"deposit",[eK.toString()].concat((0,a.Z)(n)),eR)})];case 1:return(null==(n=r.sent())?void 0:n.status)&&(ej(ev("Staked!"),(0,l.jsx)(U.Y,{txHash:n.transactionHash,children:ev("Your funds have been staked in the pool")})),null==X||X(),J((0,N.x$)({account:ea}))),[2]}})}),function(){return t.apply(this,arguments)}),eQ=(i=(0,r.Z)(function(){return(0,s.__generator)(this,function(e){return H?eX():eq(),[2]})}),function(){return i.apply(this,arguments)});return eL?(0,l.jsx)(z.E,{pool:u,linkLabel:ev("Get %symbol%",{symbol:ee.symbol}),linkHref:eY,stakingTokenBalance:eg.plus(E),onBack:function(){return eP(!1)},initialValue:ey,performanceFee:Y}):(0,l.jsxs)(p.ZP,{title:H?ev("Unstake"):ev("Stake in Pool"),onDismiss:X,headerBackground:eb.colors.gradientCardHeader,children:[(0,l.jsxs)(m.Z,{alignItems:"center",justifyContent:"space-between",mb:"8px",children:[(0,l.jsxs)(x.Z,{bold:!0,children:[H?ev("Unstake"):ev("Stake"),":"]}),(0,l.jsxs)(m.Z,{alignItems:"center",minWidth:"70px",children:[(0,l.jsx)(h.Z,{src:"/images/tokens/".concat(ee.address,".png"),width:24,height:24,alt:ee.symbol}),(0,l.jsx)(x.Z,{ml:"4px",bold:!0,children:ee.symbol})]})]}),(0,l.jsx)(k.Z,{value:ey,isWarning:e$,onUserInput:function(e){if(e){var n=Math.floor(new(B())(e).multipliedBy((0,$.t)(ee.decimals)).dividedBy(E).multipliedBy(100).toNumber());eA(n>100?100:n)}else eA(0);eS(e)},currencyValue:eM.gt(0)&&"~".concat(eB||0," USD"),decimals:ee.decimals}),e$&&(0,l.jsx)(x.Z,{color:"failure",textAlign:"right",fontSize:"12px",mt:"8px",children:ev('Insufficient token allowance. Click "Enable" to approve.')}),(0,l.jsx)(x.Z,{color:"textSubtle",textAlign:"right",fontSize:"12px",m:"8px 0",children:ev("Balance: %balance%",{balance:(0,V.NJ)(E,ee.decimals)})}),(0,l.jsx)(g.Z,{min:0,max:100,value:eT,onValueChanged:eH,name:"stake",valueLabel:"".concat(eT,"%"),step:1}),(0,l.jsxs)(m.Z,{alignItems:"center",justifyContent:"space-between",mt:"8px",children:[(0,l.jsx)(et,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return eH(25)},children:"25%"}),(0,l.jsx)(et,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return eH(50)},children:"50%"}),(0,l.jsx)(et,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return eH(75)},children:"75%"}),(0,l.jsx)(et,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return eH(100)},children:ev("Max")})]}),H&&eI&&(0,l.jsx)(q,{vaultKey:ei,stakingTokenSymbol:ee.symbol,stakeAmount:ey}),!H&&(0,l.jsxs)(m.Z,{mt:"24px",alignItems:"center",justifyContent:"space-between",children:[(0,l.jsxs)(x.Z,{mr:"8px",color:"textSubtle",children:[ev("Annual ROI at current rates"),":"]}),Number.isFinite(ez)?(0,l.jsxs)(er,{alignItems:"center",onClick:function(){eP(!0)},children:[(0,l.jsxs)(eo,{children:["$",e_]}),(0,l.jsx)(Z.Z,{variant:"text",scale:"sm",children:(0,l.jsx)(v.Z,{color:"textSubtle",width:"18px"})})]}):(0,l.jsx)(b.Z,{width:60})]}),u.vaultKey===G.om.CakeVault&&eZ?(0,l.jsx)(j.ZP,{mt:"8px",maxWidth:"370px",children:(0,l.jsx)(_.Z,{stakingToken:ee,currentStakedAmount:eZ})}):null,e$?(0,l.jsx)(d.Z,{isLoading:eW,endIcon:eW?(0,l.jsx)(w.Z,{spin:!0,color:"currentColor"}):null,onClick:eU,mt:"24px",children:ev("Enable")}):(0,l.jsx)(d.Z,{isLoading:ec,endIcon:ec?(0,l.jsx)(w.Z,{spin:!0,color:"currentColor"}):null,onClick:eQ,disabled:!ey||0===parseFloat(ey)||E.lt(eK),mt:"24px",children:ec?ev("Confirming"):ev("Confirm")}),!H&&(0,l.jsx)(d.Z,{mt:"8px",as:"a",external:!0,href:eY,variant:"secondary",children:ev("Get %symbol%",{symbol:ee.symbol})})]})}},38227:function(e,n,t){t.d(n,{Z:function(){return F}});var r=t(87394),o=t(52322),i=t(2784),a=t(61736),s=t(68303),l=t(11982),c=t(73921),u=t(72239),d=t(11699),m=t(78198),x=t(60052),f=t(33080),p=t(12628),h=t(32301),k=t(25385),g=t(5406),Z=t(34291),v=t.n(Z),b=t(6391),j=t.n(b),w=t(50071),y=t(84252),S=t(14024),C=t(32288),T=t(27717),A=t(39241),D=t(64122),L=t(69322),P=t(51250),I=t(90039),M=t(13722),E=function(e){var n=e.setCheckedState,t=e.checkedState,r=(0,c.$G)().t;return(0,o.jsxs)(o.Fragment,{children:[!t&&(0,o.jsx)(x.Z,{variant:"warning",mb:"16px",children:(0,o.jsx)(x.Y,{maxWidth:"320px",children:r("Adding more CAKE will renew your lock, setting it to remaining duration. Due to shorter lock period, benefits decrease. To keep similar benefits, extend your lock.")})}),(0,o.jsxs)(f.Z,{alignItems:"center",children:[(0,o.jsx)(p.Z,{checked:t,onChange:function(){return n(function(e){return!e})},scale:"sm"}),(0,o.jsx)(h.Z,{ml:"8px",color:"text",children:r("Renew and extend your lock to keep similar benefits.")})]})]})},B=function(e){var n=e.onDismiss,t=e.currentBalance,a=e.currentLockedAmount,s=e.stakingToken,l=e.lockStartTime,x=e.lockEndTime,f=e.stakingTokenBalance,p=(0,y.ZP)().theme,h=(0,u.dd)(),Z=(0,r.Z)((0,i.useState)(""),2),b=Z[0],B=Z[1],V=(0,r.Z)((0,i.useState)(!1),2),F=V[0],N=V[1],G=(0,c.$G)().t,O=Number.isNaN(new(j())(b).toNumber())?A.HW:new(j())(b),U=(0,C.mW)(a.plus((0,C.Qe)(O))),W=(0,C.U4)(a),$=(0,S.Tx)(O.toNumber()),R=(0,S.Tx)(U),z=(0,d.Z)(new Date((0,m.Eg)(x)),new Date,{roundingMethod:"ceil"}),_=(0,d.Z)(new Date,new Date((0,m.Eg)(l)),{roundingMethod:"ceil"}),Y=Math.max(T.kp+60,z+_),K=(0,i.useCallback)(function(){return{finalDuration:F?Y-z:0}},[Y,F,z]),H=(0,i.useCallback)(function(){return(0,o.jsx)(M.Z,{isValidDuration:!0,openCalculator:v(),duration:z,newDuration:F?Y:null,lockedAmount:W.toNumber(),newLockedAmount:U,usdValueStaked:R,lockEndTime:x,ceiling:h})},[z,F,W,Y,U,R,x,h]),X=(0,D.dI)(w.om.CakeVault).allowance,q=(0,i.useMemo)(function(){return(0,C.Qe)(new(j())(b)).gt(X)},[X,b]);return(0,o.jsx)(L.Z,{lockedAmount:b,children:(0,o.jsxs)(k.ZP,{title:G("Add CAKE"),onDismiss:n,headerBackground:p.colors.gradientCardHeader,children:[(0,o.jsx)(g.ZP,{mb:"16px",children:(0,o.jsx)(P.Z,{stakingAddress:s.address,stakingSymbol:s.symbol,stakingDecimals:s.decimals,lockedAmount:b,usedValueStaked:$,stakingMax:t,setLockedAmount:B,stakingTokenBalance:f,needApprove:q})}),(0,o.jsx)(I.Z,{currentBalance:t,stakingToken:s,onDismiss:n,lockedAmount:O,editAmountOnly:(0,o.jsx)(E,{checkedState:F,setCheckedState:N}),prepConfirmArg:K,customOverview:H})]})})},V=t(82914),F=(0,i.memo)(function(e){var n=e.currentBalance,t=e.stakingToken,d=e.currentLockedAmount,m=e.lockEndTime,x=e.lockStartTime,f=e.stakingTokenBalance,p=(0,u.AI)(0).pool.userDataLoaded,h=(0,c.$G)().t,k=(0,r.Z)((0,a.Z)((0,o.jsx)(B,{currentLockedAmount:d,currentBalance:n,stakingToken:t,lockStartTime:x,lockEndTime:m,stakingTokenBalance:f}),!0,!0,"AddAmountModal"),1)[0],g=(0,r.Z)((0,a.Z)((0,o.jsx)(V.Z,{tokenSymbol:t.symbol})),1)[0],Z=(0,i.useCallback)(function(){return n.gt(0)?k():g()},[n,k,g]);return p?(0,o.jsx)(s.Z,{onClick:Z,width:"100%",style:{whiteSpace:"nowrap",paddingLeft:0,paddingRight:0},children:h("Add CAKE")}):(0,o.jsx)(l.Z,{height:48})})},36966:function(e,n,t){t.d(n,{Z:function(){return E}});var r=t(70865),o=t(96670),i=t(26297),a=t(87394),s=t(52322),l=t(2784),c=t(61736),u=t(68303),d=t(27717),m=t(25385),x=t(5406),f=t(34291),p=t.n(f),h=t(84252),k=t(14024),g=t(73921),Z=t(6391),v=t.n(Z),b=t(72239),j=t(32288),w=t(32301),y=t(33080),S=t(74345),C=t(19372),T=t(69009),A=function(e){var n=e.stakingSymbol,t=e.stakingAddress,r=e.lockedAmount,o=e.usdValueStaked,i=(0,g.$G)().t;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(w.Z,{color:"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:i("Add CAKE to lock")}),(0,s.jsxs)(y.Z,{alignItems:"center",justifyContent:"space-between",mb:"16px",children:[(0,s.jsxs)(x.ZP,{children:[(0,s.jsx)(S.Z,{color:"text",bold:!0,fontSize:"16px",value:r,decimals:2}),(0,s.jsx)(S.Z,{value:o,fontSize:"12px",color:"textSubtle",decimals:2,prefix:"~",unit:" USD"})]}),(0,s.jsxs)(y.Z,{alignItems:"center",minWidth:"70px",children:[(0,s.jsx)(C.Z,{src:"/images/tokens/".concat(t,".png"),width:24,height:24,alt:n}),(0,s.jsx)(w.Z,{ml:"4px",bold:!0,children:n})]})]}),(0,s.jsx)(T.Z,{})]})},D=t(90039),L=t(13722),P=t(69322),I=t(97384),M=function(e){var n=e.modalTitle,t=e.stakingToken,r=e.onDismiss,o=e.currentLockedAmount,i=e.currentDuration,a=e.currentDurationLeft,c=e.currentBalance,u=e.lockStartTime,f=e.isRenew,Z=(0,h.ZP)().theme,w=(0,b.dd)(),y=(0,g.$G)().t,S=(0,k.Tx)(o),C=(0,l.useCallback)(function(e){var n=e.duration,t=a+n;return{isValidAmount:o&&o>0,isValidDuration:n>0&&t>0&&t<=d.VO,isOverMax:t>d.VO}},[o,a]),T=(0,l.useCallback)(function(e){var n=e.duration;return{finalDuration:n,finalLockedAmount:i&&i+n>d.VO?(0,j.U4)(I.iL,t.decimals).toNumber():0}},[t.decimals,i]),M=(0,l.useCallback)(function(e){var n=e.isValidDuration,t=e.duration,r=e.isMaxSelected;return(0,s.jsx)(L.Z,{lockStartTime:i+t>d.VO?Math.floor(Date.now()/1e3).toString():u,isValidDuration:n,openCalculator:p(),duration:i||t,newDuration:r?d.VO:i+t>d.VO?a+t:i+t,lockedAmount:o,usdValueStaked:S,showLockWarning:!+u,ceiling:w})},[u,i,o,a,S,w]);return(0,s.jsx)(P.Z,{lockedAmount:o,children:(0,s.jsxs)(m.ZP,{title:n||y("Extend Lock"),onDismiss:r,headerBackground:Z.colors.gradientCardHeader,children:[(0,s.jsx)(x.ZP,{mb:"16px",children:(0,s.jsx)(A,{stakingAddress:t.address,stakingSymbol:t.symbol,lockedAmount:o,usdValueStaked:S})}),(0,s.jsx)(D.Z,{stakingToken:t,currentBalance:c,currentDuration:i,currentDurationLeft:a,onDismiss:r,lockedAmount:new(v())(o),validator:C,prepConfirmArg:T,customOverview:M,isRenew:f})]})})},E=function(e){var n=e.modalTitle,t=e.stakingToken,m=e.currentLockedAmount,x=e.currentBalance,f=e.lockEndTime,p=e.lockStartTime,h=e.children,k=e.isRenew,g=(0,i.Z)(e,["modalTitle","stakingToken","currentLockedAmount","currentBalance","lockEndTime","lockStartTime","children","isRenew"]),Z=Math.floor(Date.now()/1e3),v=(0,l.useMemo)(function(){return Number(f)-Number(p)},[f,p]),b=(0,l.useMemo)(function(){return Math.max(Number(f)-Z,0)},[f,Z]),j=(0,a.Z)((0,c.Z)((0,s.jsx)(M,{modalTitle:n,stakingToken:t,lockStartTime:p,currentBalance:x,currentLockedAmount:m,currentDuration:v,currentDurationLeft:b,isRenew:k}),!0,!0,"ExtendDurationModal"),1)[0];return(0,s.jsx)(u.Z,(0,o.Z)((0,r.Z)({disabled:Number.isFinite(b)&&d.VO-b<d.kp,onClick:j,width:"100%"},g),{children:h}))}},46570:function(e,n,t){t.d(n,{Z:function(){return M}});var r,o=t(47842),i=t(52322),a=t(2784),s=t(20870),l=t(33080),c=t(5406),u=t(60052),d=t(73921),m=t(88173),x=t(88030),f=t(98788),p=t(70865),h=t(96670),k=t(45680),g=t(25130),Z=t(68303),v=t(517),b=t(86054),j=t(27717),w=t(25571),y=t(90395),S=t(56521),C=t(95625),T=t(97124),A=t(50071),D=t(3255),L=(0,a.memo)(function(e){var n=(0,C.TL)(),t=(0,v.mA)().address,r=(0,y.Z)(),o=r.fetchWithCatchTxError,s=r.loading,l=(0,S.Ak)(A.om.CakeVault),c=(0,w.d)().callWithGasPrice,u=(0,d.$G)().t,m=(0,D.kY)().mutate,x=(0,g.p)().toastSuccess,L=(0,a.useCallback)((0,f.Z)(function(){var e,r;return(0,k.__generator)(this,function(a){switch(a.label){case 0:return e={gasLimit:j.Y4[A.om.CakeVault].gasLimit},[4,o(function(){return c(l,"unlock",[t],e)})];case 1:return(null==(r=a.sent())?void 0:r.status)&&(x(u("Staked!"),(0,i.jsx)(b.Y,{txHash:r.transactionHash,children:u("Your funds have been staked in the pool")})),n((0,T.x$)({account:t})),m(["userCakeLockStatus",t])),[2]}})}),[u,x,t,c,n,o,l,m]);return(0,i.jsx)(Z.Z,(0,h.Z)((0,p.Z)({width:"100%",disabled:s,onClick:L,variant:"secondary"},e),{children:s?u("Converting..."):u("Convert to Flexible")}))}),P=t(36966),I=(r={},(0,o.Z)(r,x.PS.None,null),(0,o.Z)(r,x.PS.Flexible,null),(0,o.Z)(r,x.PS.Locked,null),(0,o.Z)(r,x.PS.LockedEnd,(0,i.jsx)(m.Z,{children:"Renew your staking position to continue enjoying the benefits of farm yield boosting, participating in IFOs, voting power boosts, and so much more!"})),(0,o.Z)(r,x.PS.AfterBurning,(0,i.jsx)(m.Z,{children:"The lock period has ended. To avoid more rewards being burned, renew your staking position to continue enjoying the benefits from locked staking."})),r),M=(0,a.memo)(function(e){var n=e.currentLockedAmount,t=e.stakingToken,r=e.position,o=e.isInline,a=(0,d.$G)().t,m=(0,s.Z)().isDesktop,x=o&&m,f=x?l.Z:c.ZP;return(0,i.jsx)(u.Z,{variant:"warning",mb:"16px",action:(0,i.jsxs)(f,{mt:!x&&"8px",ml:"10px",children:[(0,i.jsx)(P.Z,{modalTitle:a("Renew"),lockEndTime:"0",lockStartTime:"0",stakingToken:t,currentLockedAmount:n,minWidth:"186px",variant:"primary",mr:x&&"14px",mb:!x&&"8px",isRenew:!0,children:a("Renew")}),(0,i.jsx)(L,{minWidth:x&&"200px"})]}),actionInline:x,children:(0,i.jsx)(u.Y,{children:I[r]})})})},51250:function(e,n,t){var r=t(92228),o=t(52322),i=t(68303),a=t(33080),s=t(32301),l=t(19372),c=t(10442),u=t(11655),d=t(6391),m=t.n(d),x=t(73921),f=t(2784),p=t(3411),h=t(32288),k=t(28766),g=t(62283);function Z(){var e=(0,r.Z)(["\n  flex-grow: 1;\n"]);return Z=function(){return e},e}var v=(0,p.ZP)(i.Z).withConfig({componentId:"sc-5d29efff-0"})(Z());n.Z=(0,f.memo)(function(e){var n=e.stakingAddress,t=e.stakingSymbol,r=e.stakingDecimals,i=e.lockedAmount,d=e.stakingMax,p=e.setLockedAmount,Z=e.usedValueStaked,b=e.stakingTokenBalance,j=e.needApprove,w=(0,x.$G)().t,y=(0,g.S)(i,b),S=y.userNotEnoughCake,C=y.notEnoughErrorMessage,T=(0,f.useMemo)(function(){var e=new(m())(i);if(e.gt(0)){var n=Math.floor(e.multipliedBy((0,k.t)(r)).dividedBy(d).multipliedBy(100).toNumber());return n>100?100:n}return 0},[i,r,d]),A=(0,f.useCallback)(function(e){p(e)},[p]),D=(0,f.useCallback)(function(e){if(e>0){var n=d.dividedBy(100).multipliedBy(e);p((0,h.NJ)(n,r,r))}else p("")},[d,p,r]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(a.Z,{alignItems:"center",justifyContent:"space-between",mb:"8px",children:[(0,o.jsx)(s.Z,{color:"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:w("CAKE to lock")}),(0,o.jsxs)(a.Z,{alignItems:"center",minWidth:"70px",children:[(0,o.jsx)(l.Z,{src:"/images/tokens/".concat(n,".png"),width:24,height:24,alt:t}),(0,o.jsx)(s.Z,{ml:"4px",bold:!0,children:t})]})]}),(0,o.jsx)(c.Z,{isWarning:S||j,value:i,onUserInput:A,currencyValue:"~".concat(Z||0," USD"),decimals:r}),j&&!S?(0,o.jsx)(s.Z,{color:"failure",textAlign:"right",fontSize:"12px",mt:"8px",children:w('Insufficient token allowance. Click "Enable" to approve.')}):null,(0,o.jsx)(a.Z,{alignItems:"center",justifyContent:"flex-end",mt:"4px",mb:"12px",children:(0,o.jsx)(a.Z,{justifyContent:"flex-end",flexDirection:"column",children:S&&(0,o.jsx)(s.Z,{fontSize:"12px",color:"failure",children:C})})}),(0,o.jsx)(s.Z,{mt:"8px",textAlign:"end",color:"textSubtle",fontSize:"12px",mb:"8px",children:w("Balance: %balance%",{balance:(0,h.NJ)(d,r)})}),(0,o.jsx)(u.Z,{min:0,max:100,value:T,onValueChanged:D,name:"stake",valueLabel:"".concat(T,"%"),step:1}),(0,o.jsxs)(a.Z,{alignItems:"center",justifyContent:"space-between",mt:"8px",children:[(0,o.jsx)(v,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return D(25)},children:"25%"}),(0,o.jsx)(v,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return D(50)},children:"50%"}),(0,o.jsx)(v,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return D(75)},children:"75%"}),(0,o.jsx)(v,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return D(100)},children:w("Max")})]})]})})},96697:function(e,n,t){var r=t(87394),o=t(52322),i=t(2784),a=t(92177),s=t(20871),l=t(27717),c=t(61973),u=t(11699),d=t(78198);n.Z=(0,i.memo)(function(e){var n=e.lockEndTime,t=(0,r.Z)((0,i.useState)(0),2),m=t[0],x=t[1],f=(0,i.useMemo)(function(){return(0,c.Z)((0,d.Eg)(n),l.by)},[n]),p=(0,i.useCallback)(function(){x((0,u.Z)(f,new Date))},[f]);(0,a.Yz)(p,6e4);var h=(0,s.Z)(m),k=h.days,g=h.hours,Z=h.minutes;return(0,o.jsx)(o.Fragment,{children:"".concat(k,"d: ").concat(g,"h: ").concat(Z,"m")})})},33938:function(e,n,t){var r=t(52322),o=t(20870),i=t(60052),a=t(33080),s=t(11982),l=t(73921),c=t(2784),u=t(3024),d=t(36966),m=t(91074);n.Z=(0,c.memo)(function(e){var n=e.stakingToken,t=e.currentStakedAmount,c=e.isInline,x=(0,l.$G)().t,f=(0,o.Z)().isMobile,p=c&&!f,h=(0,m.Z)().avgLockDurationsInSeconds,k=(0,u.o)({duration:h}).lockedApy;return(0,r.jsx)(i.Z,{variant:"warning",action:(0,r.jsx)(a.Z,{mt:!p&&"8px",flexGrow:1,ml:p&&"80px",children:(0,r.jsx)(d.Z,{modalTitle:x("Convert to Lock"),lockEndTime:"0",lockStartTime:"0",stakingToken:n,currentLockedAmount:t,children:x("Convert to Lock")})}),actionInline:p,children:(0,r.jsx)(s.i,{isDataReady:!!(h&&k),wrapperProps:{height:"fit-content"},children:(0,r.jsx)(i.Y,{children:x("Lock staking users are earning an average of %amount%% APR. More benefits are coming soon.",{amount:k?parseFloat(k).toFixed(2):0})})})})})},14996:function(e,n,t){var r=t(92228),o=t(52322),i=t(2784),a=t(64170),s=t(5406),l=t(33080),c=t(32301),u=t(68303),d=t(60052),m=t(3411),x=t(73921),f=t(7642),p=t.n(f),h=t(27717),k=t(43577);function g(){var e=(0,r.Z)(["\n  text-align: right;\n  margin-right: 8px;\n"]);return g=function(){return e},e}var Z=[1,5,10,25],v=(0,m.ZP)(a.Z).withConfig({componentId:"sc-9325d740-0"})(g());n.Z=function(e){var n=e.duration,t=e.setDuration,r=e.isOverMax,a=e.currentDuration,m=e.currentDurationLeft,f=e.isMaxSelected,g=e.setIsMaxSelected,b=(0,x.$G)().t,j=m?h.VO-m:h.VO;(0,i.useEffect)(function(){f&&t(j)},[f,j,t]);var w=(0,i.useMemo)(function(){return a&&(0,k.Ot)(a)},[a]),y=(0,i.useMemo)(function(){return(0,k.Ot)(h.VO)},[]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(s.ZP,{mb:"16px",children:[(0,o.jsxs)(l.Z,{mb:"8px",children:[(0,o.jsx)(c.Z,{fontSize:"12px",color:"secondary",bold:!0,mr:"2px",textTransform:"uppercase",children:b("Add")}),(0,o.jsx)(c.Z,{fontSize:"12px",color:"textSubtle",bold:!0,textTransform:"uppercase",children:b("duration")})]}),(0,o.jsxs)(l.Z,{flexWrap:"wrap",children:[Z.map(function(e){var r=(0,k.AS)(e);return(0,o.jsxs)(u.Z,{onClick:function(){g(!1),t(r)},mt:"4px",mr:["2px","2px","4px","4px"],scale:"sm",disabled:r>j,variant:r===n?"subtle":"tertiary",children:[e,"W"]},e)}),(0,o.jsx)(u.Z,{onClick:function(){g(!0)},mt:"4px",mr:["2px","2px","4px","4px"],scale:"sm",disabled:j<h.kp,variant:f?"subtle":"tertiary",children:b("Max")},"max")]})]}),(0,o.jsxs)(l.Z,{justifyContent:"center",alignItems:"center",mb:"8px",children:[(0,o.jsx)(v,{value:(0,k.Ot)(n),autoComplete:"off",pattern:"^[0-9]+$",inputMode:"numeric",onChange:function(e){g(!1);var n,r,o=p()(null==e?void 0:null===(n=e.target)||void 0===n?void 0:n.value);e.currentTarget.validity.valid&&o<530&&t((0,k.AS)(p()(null==e?void 0:null===(r=e.target)||void 0===r?void 0:r.value)))}}),(0,o.jsx)(c.Z,{children:b("Week")})]}),r&&(0,o.jsx)(c.Z,{fontSize:"12px",textAlign:"right",color:"failure",children:b("Total lock duration exceeds 52 weeks")}),m&&w===y&&!f?(0,o.jsx)(d.Z,{variant:"warning",children:(0,o.jsx)(d.Y,{maxWidth:"240px",children:b('Recommend choosing "MAX" to renew your staking position in order to keep similar yield boost.')})}):null]})}},88240:function(e,n,t){var r=t(52322),o=t(33080),i=t(32301),a=t(73921);n.Z=function(e){var n=e.weekDuration,t=(0,a.$G)().t;return(0,r.jsxs)(o.Z,{alignItems:"center",justifyContent:"space-between",children:[(0,r.jsx)(i.Z,{color:"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:t("Lock Duration")}),(0,r.jsx)(i.Z,{color:"text",bold:!0,fontSize:"16px",children:n})]})}},45508:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(52322),o=t(73921);function i(e){var n=e.boostedYieldAmount,t=(0,o.$G)().t;return(0,r.jsxs)(r.Fragment,{children:[t("Boosted yield applies to the original locked amount: %boostedYieldAmount%",{boostedYieldAmount:n}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),t("Calculated based on current rates and subject to change based on various external variables. It is a rough estimate provided for convenience only, and by no means represents guaranteed returns.")]})}},90039:function(e,n,t){t.d(n,{Z:function(){return W}});var r=t(87394),o=t(52322),i=t(2784),a=t(25237),s=t.n(a),l=t(5406),c=t(32301),u=t(60052),d=t(33080),m=t(68303),x=t(40330),f=t(34291),p=t.n(f),h=t(73921),k=t(67868),g=t(27717),Z=t(6391),v=t.n(Z),b=t(32288),j=t(72239),w=t(50071),y=t(13722),S=t(14996),C=t(98788),T=t(45680),A=t(517),D=t(3255),L=t(95625),P=t(14024),I=t(56521),M=t(25130),E=t(90395),B=t(97124),V=t(86054),F=t(25571),N=t(91074),G=t(97384),O=t(64122),U=s()(function(){return Promise.all([t.e(2029),t.e(4281),t.e(3205),t.e(769)]).then(t.bind(t,90769))},{loadableGenerated:{webpack:function(){return[90769]}},ssr:!1}),W=function(e){var n,t,a,s,f,Z,W,$,R,z,_,Y,K,H,X,q,Q,J,ee,en,et,er,eo,ei,ea=e.stakingToken,es=e.onDismiss,el=e.lockedAmount,ec=e.currentBalance,eu=e.currentDuration,ed=e.currentDurationLeft,em=e.editAmountOnly,ex=e.prepConfirmArg,ef=e.validator,ep=e.customOverview,eh=e.isRenew,ek=(0,h.$G)().t,eg=(0,j.dd)(),eZ=(0,N.Z)().avgLockDurationsInSeconds,ev=(t=(n={stakingToken:ea,onDismiss:es,lockedAmount:el,prepConfirmArg:ex,defaultDuration:eh&&eZ}).lockedAmount,a=n.stakingToken,s=n.onDismiss,f=n.prepConfirmArg,W=void 0===(Z=n.defaultDuration)?g.kp:Z,$=(0,L.TL)(),R=(0,A.mA)().address,_=(z=(0,E.Z)()).fetchWithCatchTxError,Y=z.loading,K=(0,I.Ak)(w.om.CakeVault),H=(0,F.d)().callWithGasPrice,X=(0,h.$G)().t,q=(0,D.kY)().mutate,Q=(0,M.p)().toastSuccess,ee=(J=(0,r.Z)((0,i.useState)(function(){return W}),2))[0],en=J[1],et=(0,P.Tx)(t.toNumber()),eo=(0,i.useCallback)((er=(0,C.Z)(function(e,n){var t,r;return(0,T.__generator)(this,function(i){switch(i.label){case 0:return t={gasLimit:g.Y4[w.om.CakeVault].gasLimit},[4,_(function(){return H(K,"deposit",[e.toString(),n],t)})];case 1:return(null==(r=i.sent())?void 0:r.status)&&(Q(X("Staked!"),(0,o.jsx)(V.Y,{txHash:r.transactionHash,children:X("Your funds have been staked in the pool")})),null==s||s(),$((0,B.x$)({account:R})),q(["userCakeLockStatus",R])),[2]}})}),function(e,n){return er.apply(this,arguments)}),[_,Q,$,s,R,K,X,H,q]),ei=(0,i.useCallback)((0,C.Z)(function(){var e,n,r,o,i;return(0,T.__generator)(this,function(s){return r=void 0===(n=(e="function"==typeof f?f({duration:ee}):{}).finalLockedAmount)?t:n,i=void 0===(o=e.finalDuration)?ee:o,eo((0,b.Qe)(new(v())(r),a.decimals),i),[2]})}),[f,a,eo,ee,t]),{usdValueStaked:et,duration:ee,setDuration:en,pendingTx:Y,handleConfirmClick:ei}),eb=ev.usdValueStaked,ej=ev.duration,ew=ev.setDuration,ey=ev.pendingTx,eS=ev.handleConfirmClick,eC=(0,r.Z)((0,i.useState)(!1),2),eT=eC[0],eA=eC[1],eD=(0,i.useMemo)(function(){return"function"==typeof ef?ef({duration:ej}):{isValidAmount:(null==el?void 0:el.toNumber())>0&&(0,b.U4)(ec).gte(el),isValidDuration:ej>0&&ej<=g.VO,isOverMax:ej>g.VO}},[ef,ec,el,ej]),eL=eD.isValidAmount,eP=eD.isValidDuration,eI=eD.isOverMax,eM=(0,i.useMemo)(function(){return eP&&eu&&eu+ej>g.VO},[eP,eu,ej]),eE=(0,i.useMemo)(function(){return null==ec?void 0:ec.gte(G.iL)},[ec]),eB=(0,i.useMemo)(function(){return eM&&!eE},[eM,eE]),eV=(0,O.dI)(w.om.CakeVault),eF=eV.allowance,eN=eV.setLastUpdated,eG=(0,O.Le)(w.om.CakeVault,eN),eO=eG.handleApprove,eU=eG.pendingTx,eW=(0,r.Z)((0,i.useState)(!1),2),e$=eW[0],eR=eW[1],ez=(0,i.useMemo)(function(){if(ex){var e=ex({duration:ej}).finalLockedAmount;if(!(0,k.Z)(e))return(0,b.Qe)(new(v())(e)).gt(eF)}return(0,b.Qe)(new(v())(el)).gt(eF)},[eF,el,ex,ej]),e_=(0,r.Z)((0,i.useState)(eB),2),eY=e_[0],eK=e_[1];return(0,i.useEffect)(function(){eB&&eK(!0)},[eB]),(0,i.useEffect)(function(){if(!e$&&ex){var e=ex({duration:ej}).finalLockedAmount;(0,k.Z)(e)||eR(!0)}},[e$,ex,ej]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l.ZP,{mb:"16px",children:em||(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(S.Z,{isOverMax:eI,currentDuration:eu,currentDurationLeft:ed,setDuration:ew,duration:ej,isMaxSelected:eT,setIsMaxSelected:eA})})}),ep?ep({isValidDuration:eP,duration:ej,isMaxSelected:eT}):(0,o.jsx)(y.Z,{isValidDuration:eP,openCalculator:p(),duration:ej,lockedAmount:null==el?void 0:el.toNumber(),usdValueStaked:eb,showLockWarning:!0,ceiling:eg}),!ez&&eM?eE?(0,o.jsx)(c.Z,{fontSize:"12px",mt:"24px",children:ek("0.0001 CAKE will be spent to extend")}):(0,o.jsx)(u.Z,{variant:"warning",mt:"24px",children:(0,o.jsx)(u.Y,{maxWidth:"200px",children:ek("0.0001 CAKE required for enabling extension")})}):null,e$&&ez?(0,o.jsx)(u.Z,{variant:"warning",mt:"24px",children:(0,o.jsx)(u.Y,{maxWidth:"200px",children:ek('Insufficient token allowance. Click "Enable" to approve.')})}):null,(0,o.jsx)(d.Z,{mt:"24px",flexDirection:"column",children:ez?(0,o.jsx)(m.Z,{width:"100%",isLoading:eU,endIcon:eU?(0,o.jsx)(x.Z,{spin:!0,color:"currentColor"}):null,onClick:eO,children:ek(eU?"Enabling":"Enable")}):eY?(0,o.jsx)(U,{hasEnoughCake:eE,handleConfirmClick:eS,pendingConfirmTx:ey,isValidAmount:eL,isValidDuration:eP}):(0,o.jsx)(m.Z,{width:"100%",isLoading:ey,endIcon:ey?(0,o.jsx)(x.Z,{spin:!0,color:"currentColor"}):null,onClick:eS,disabled:!(eL&&eP),children:ek(ey?"Confirming":"Confirm")})})]})}},13722:function(e,n,t){t.d(n,{Z:function(){return N}});var r=t(52322),o=t(2784),i=t(5406),a=t(33080),s=t(32301),l=t(60052),c=t(52054),u=t(61973),d=t(3024),m=t(73921),x=t(7642),f=t.n(x),p=t(78198),h=t(43577),k=t(67868),g=t(92228);function Z(){var e=(0,g.Z)(["\n  text-decoration: line-through;\n"]);return Z=function(){return e},e}var v=(0,t(3411).ZP)(s.Z).withConfig({componentId:"sc-4b9cfd09-0"})(Z()),b=function(e){var n=e.value,t=e.newValue;return(0,k.Z)(t)||(0,k.Z)(n)||n===t?(0,r.jsx)(s.Z,{bold:!0,fontSize:"16px",children:n||"-"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v,{bold:!0,fontSize:"16px",mr:"4px",children:n}),"->",(0,r.jsx)(s.Z,{bold:!0,color:"failure",ml:"4px",fontSize:"16px",children:t})]})},j=function(e){var n=e.title,t=e.value,o=e.newValue;return(0,r.jsxs)(a.Z,{alignItems:"center",justifyContent:"space-between",children:[(0,r.jsx)(s.Z,{color:"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:n}),(0,r.jsx)(a.Z,{alignItems:"center",children:(0,r.jsx)(b,{value:t,newValue:o})})]})},w=t(74345),y=t(96914),S=t(93783),C=function(e){var n=e.value,t=e.newValue,o=e.decimals,i=e.unit,a=e.prefix;return(0,k.Z)(t)||!n||n===t||0===f()(t)?(0,r.jsx)(w.Z,{bold:!0,fontSize:"16px",value:n,decimals:o,unit:i,prefix:a}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v,{children:(0,r.jsx)(w.Z,{bold:!0,fontSize:"16px",mr:"4px",value:n,decimals:o,unit:i,prefix:a})}),"->",(0,r.jsx)(w.Z,{bold:!0,color:"failure",fontSize:"16px",ml:"4px",value:t,decimals:o,unit:i,prefix:a})]})},T=(0,o.memo)(function(e){var n=e.title,t=e.value,o=e.newValue,i=e.unit,l=e.decimals,c=e.prefix,u=e.suffix,d=e.tooltipContent,m=(0,y.Z)(d,{placement:"bottom-start"}),x=m.targetRef,f=m.tooltip,p=m.tooltipVisible;return(0,r.jsxs)(a.Z,{alignItems:"center",justifyContent:"space-between",children:[p&&f,d?(0,r.jsx)(S.Z,{children:(0,r.jsx)(s.Z,{ref:x,color:"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:n})}):(0,r.jsx)(s.Z,{color:"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:n}),(0,r.jsxs)(a.Z,{alignItems:"center",children:[(0,r.jsx)(C,{newValue:o,value:t,decimals:l,unit:i,prefix:c}),u]})]})}),A=t(88417),D=function(e){var n=e.title,t=e.value,o=e.color,i=(0,(0,m.$G)().t)("You will be able to withdraw the staked CAKE and profit only when the staking position is unlocked, i.e. when the staking period ends."),l=(0,y.Z)(i,{placement:"bottom-start"}),c=l.targetRef,u=l.tooltip,d=l.tooltipVisible;return(0,r.jsxs)(a.Z,{alignItems:"center",justifyContent:"space-between",children:[d&&u,(0,r.jsx)(S.Z,{children:(0,r.jsx)(s.Z,{ref:c,color:"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:n})}),(0,r.jsx)(s.Z,{bold:!0,color:o,children:t?(0,A.Z)(t,"MMM do, yyyy HH:mm"):"-"})]})};function L(e){var n=e.lockedApy,t=e.usdValueStaked,r=e.duration,o=t*(Number(n)/100)*(r/31449600),i=o>1e4?0:2;return o.toLocaleString("en",{minimumFractionDigits:i,maximumFractionDigits:i})}var P=t(6391),I=t.n(P);function M(e){var n=e.lockedAmount,t=e.duration,r=e.ceiling,o=new(I())(t);return o.gte(r)?new(I())(n).toNumber():o.lt(r)&&o.gte(0)?o.times(n).div(r).toNumber():0}var E=t(79221),B=t(46678),V=t(69322),F=function(){var e=(0,o.useContext)(V.G);return(0,r.jsx)(E.Z,{variant:"text",scale:"sm",mr:"-8px",onClick:function(){return e&&e(!0)},children:(0,r.jsx)(B.Z,{color:"textSubtle",width:"18px"})})},N=function(e){var n=e.usdValueStaked,t=e.lockedAmount,x=e.duration,k=e.isValidDuration,g=e.newDuration,Z=e.newLockedAmount,v=e.lockStartTime,b=e.lockEndTime,w=e.showLockWarning,y=e.ceiling,S=(0,d.o)(),C=S.getLockedApy,A=S.getBoostFactor,P=(0,m.$G)().t,I=(0,o.useMemo)(function(){return C(x)},[C,x]),E=(0,o.useMemo)(function(){return A(x)},[A,x]),B=(0,o.useMemo)(function(){return g&&C(g)||0},[C,g]),V=(0,o.useMemo)(function(){return g&&A(g)||0},[A,g]),N=(0,o.useMemo)(function(){return L({usdValueStaked:n,lockedApy:I,duration:x})},[I,n,x]),G=(0,o.useMemo)(function(){return B&&L({usdValueStaked:n,lockedApy:B,duration:g})},[B,n,g]),O=new Date,U=g?(0,u.Z)(Number(v)?new Date((0,p.Eg)(v)):O,g):Number(b)?new Date((0,p.Eg)(b)):(0,u.Z)(O,x),W=(0,o.useMemo)(function(){return M({lockedAmount:t,duration:x,ceiling:y})},[t,x,y]),$=(0,o.useMemo)(function(){return M({lockedAmount:Number(Z)?Z:t,duration:Number(g)?g:x,ceiling:y})},[t,Z,x,g,y]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i.ZP,{children:[(0,r.jsxs)(a.Z,{mb:"4px",children:[(0,r.jsx)(s.Z,{fontSize:"12px",color:"secondary",bold:!0,mr:"2px",textTransform:"uppercase",children:P("Lock")}),(0,r.jsx)(s.Z,{fontSize:"12px",color:"textSubtle",bold:!0,textTransform:"uppercase",children:P("Overview")})]}),(0,r.jsxs)(c.m5,{children:[(0,r.jsx)(T,{title:P("Cake to be locked"),value:t,newValue:Z,decimals:2}),(0,r.jsx)(T,{title:"iCake",decimals:2,value:W,newValue:$}),(0,r.jsx)(T,{title:"apr",unit:"%",value:f()(I),decimals:2,newValue:f()(B),tooltipContent:P("Calculated based on current rates and subject to change based on pool conditions. It is an estimate provided for your convenience only, and by no means represents guaranteed returns.")}),(0,r.jsx)(j,{title:P("duration"),value:k&&(0,h.ZP)(x),newValue:k&&g&&(0,h.ZP)(g)}),(0,r.jsx)(T,{title:P("Yield boost"),unit:"x",value:f()(E),decimals:2,newValue:f()(V),tooltipContent:P("Your yield will be boosted based on the total lock duration of your current fixed term staking position.")}),(0,r.jsx)(D,{color:f()(g)?"failure":"text",title:P("Unlock on"),value:k&&U}),(0,r.jsx)(T,{title:P("Expected ROI"),value:N,newValue:G,prefix:"$",decimals:2,suffix:(0,r.jsx)(F,{}),tooltipContent:P("Calculated based on current rates and subject to change based on pool conditions. It is an estimate provided for your convenience only, and by no means represents guaranteed returns.")})]})]}),w&&(0,r.jsx)(i.ZP,{mt:"16px",maxWidth:"370px",children:(0,r.jsx)(l.Z,{variant:"warning",children:(0,r.jsx)(l.Y,{children:P("You will be able to withdraw the staked CAKE and profit only when the staking position is unlocked")})})})]})}},91621:function(e,n,t){var r=t(52322),o=t(96914),i=t(33080),a=t(93783),s=t(32301),l=t(74345),c=t(3024),u=t(73921);n.Z=function(e){var n=e.secondDuration,t=(0,c.o)({duration:n}).boostFactor,d=(0,u.$G)().t,m=d("Your yield will be boosted based on the total lock duration of your current fixed term staking position."),x=(0,o.Z)(m,{placement:"bottom-start"}),f=x.targetRef,p=x.tooltip,h=x.tooltipVisible;return(0,r.jsxs)(i.Z,{alignItems:"center",justifyContent:"space-between",children:[h&&p,(0,r.jsx)(a.Z,{children:(0,r.jsx)(s.Z,{ref:f,color:"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:d("Yield boost")})}),(0,r.jsx)(l.Z,{color:"text",bold:!0,fontSize:"16px",value:t?null==t?void 0:t.toString():"0",decimals:2,unit:"x"})]})}},87308:function(e,n,t){var r=t(87394),o=t(52322),i=t(2784),a=t(25385),s=t(5406),l=t(84252),c=t(14024),u=t(50071),d=t(32288),m=t(73921),x=t(7642),f=t.n(x),p=t(6391),h=t.n(p),k=t(51250),g=t(90039),Z=t(69322),v=t(64122);n.Z=function(e){var n=e.onDismiss,t=e.currentBalance,x=e.stakingToken,p=e.stakingTokenBalance,b=(0,l.ZP)().theme,j=(0,r.Z)((0,i.useState)(""),2),w=j[0],y=j[1],S=(0,m.$G)().t,C=(0,c.Tx)(f()(w)),T=(0,v.dI)(u.om.CakeVault).allowance,A=(0,i.useMemo)(function(){return(0,d.Qe)(new(h())(w)).gt(T)},[T,w]);return(0,o.jsx)(Z.Z,{lockedAmount:w,children:(0,o.jsxs)(a.ZP,{title:S("Lock CAKE"),onDismiss:n,headerBackground:b.colors.gradientCardHeader,children:[(0,o.jsx)(s.ZP,{mb:"16px",children:(0,o.jsx)(k.Z,{stakingAddress:x.address,stakingSymbol:x.symbol,stakingDecimals:x.decimals,lockedAmount:w,usedValueStaked:C,stakingMax:t,setLockedAmount:y,stakingTokenBalance:p,needApprove:A})}),(0,o.jsx)(g.Z,{currentBalance:t,stakingToken:x,onDismiss:n,lockedAmount:new(h())(w)})]})})}},69322:function(e,n,t){t.d(n,{G:function(){return d}});var r=t(87394),o=t(52322),i=t(2784),a=t(73921),s=t(72239),l=t(66188),c=t.n(l),u=t(49950),d=(0,i.createContext)(null);n.Z=function(e){var n,t,l=e.children,m=e.lockedAmount,x=(0,r.Z)((0,i.useState)(!1),2),f=x[0],p=x[1],h=(0,a.$G)().t,k=(0,s.AI)(0).pool,g=(null==k?void 0:null===(n=k.stakingToken)||void 0===n?void 0:n.address)?k.stakingToken.address.toLowerCase():null;return f?(0,o.jsx)(u.E,{pool:k,linkLabel:h("Get %symbol%",{symbol:"MDEX"}),linkHref:g?"/swap?outputCurrency=".concat(g):"/swap",stakingTokenBalance:null==k?void 0:null===(t=k.userData)||void 0===t?void 0:t.stakingTokenBalance,onBack:function(){return p(!1)},initialValue:c()(m),initialView:1}):(0,o.jsx)(d.Provider,{value:p,children:l})}},91074:function(e,n,t){t.d(n,{Z:function(){return d}});var r=t(2784),o=t(27717),i=t(6391),a=t.n(i),s=t(72239),l=t(28766),c=t(16816),u=t(43577);function d(){var e=(0,s.Xo)(),n=e.totalLockedAmount,t=e.totalShares,i=e.totalCakeInVault,d=e.pricePerFullShare,m=(0,r.useMemo)(function(){var e=i.minus(n).div(d).times(c.o3),r=t.minus(e),s=n.div(d).times(c.o3);return Math.round(r.div(s).minus(1).times(new(a())(o.A0.toString())).div(new(a())(o.xt.toString()).div((0,l.t)(12))).toNumber())||0},[i,n,d,t]);return{avgLockDurationsInWeeks:(0,r.useMemo)(function(){return(0,u.ZP)(m)},[m]),avgLockDurationsInWeeksNum:(0,r.useMemo)(function(){return(0,u.Ot)(m)},[m]),avgLockDurationsInSeconds:m}}},44984:function(e,n,t){var r=t(73921),o=t(78198),i=t(43577);n.Z=function(e){var n=e.lockEndTime,t=e.lockStartTime,a=(0,r.$G)().currentLanguage.locale,s=Number(n)-Number(t),l=(0,o.Eg)(n),c="",u="";try{c=new Date(l).toLocaleString(a,{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}),u=new Date(l+6048e5).toLocaleString(a,{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1})}catch(d){}return{weekDuration:(0,i.ZP)(s),remainingTime:(0,o.At)(l),lockEndDate:c,secondDuration:s,burnStartTime:u}}},62283:function(e,n,t){t.d(n,{S:function(){return l}});var r=t(6391),o=t.n(r),i=t(73921),a=t(32288),s=t(2784),l=function(e,n){var t=(0,(0,i.$G)().t)("Insufficient CAKE balance");return{userNotEnoughCake:(0,s.useMemo)(function(){return!!new(o())(e).gt((0,a.U4)(n,18))},[e,n]),notEnoughErrorMessage:t}}},82914:function(e,n,t){var r=t(92228),o=t(52322),i=t(73921),a=t(3411),s=t(91928),l=t(25385),c=t(32301),u=t(68303),d=t(13525),m=t(84252);function x(){var e=(0,r.Z)(["\n  width: 100%;\n"]);return x=function(){return e},e}var f=(0,a.ZP)(s.Z).withConfig({componentId:"sc-f9a2dd70-0"})(x());n.Z=function(e){var n=e.tokenSymbol,t=e.onDismiss,r=(0,i.$G)().t,a=(0,m.ZP)().theme;return(0,o.jsxs)(l.ZP,{title:r("%symbol% required",{symbol:n}),onDismiss:t,headerBackground:a.colors.gradientCardHeader,children:[(0,o.jsx)(c.Z,{color:"failure",bold:!0,children:r("Insufficient %symbol% balance",{symbol:n})}),(0,o.jsx)(c.Z,{mt:"24px",children:r("You’ll need %symbol% to stake in this pool!",{symbol:n})}),(0,o.jsx)(c.Z,{children:r("Buy some %symbol%, or make sure your %symbol% isn’t in another pool or LP.",{symbol:n})}),(0,o.jsxs)(u.Z,{mt:"24px",as:"a",external:!0,href:"/swap",children:[r("Buy")," ",n]}),(0,o.jsx)(f,{href:"https://yieldwatch.net",external:!0,children:(0,o.jsxs)(u.Z,{variant:"secondary",mt:"8px",width:"100%",children:[r("Locate Assets"),(0,o.jsx)(d.Z,{color:"primary",ml:"4px"})]})}),(0,o.jsx)(u.Z,{variant:"text",onClick:t,children:r("Close Window")})]})}},77541:function(e,n,t){t.d(n,{Z:function(){return B}});var r=t(52322),o=t(33080),i=t(32301),a=t(90907),s=t(91928),l=t(92169),c=t(83770),u=t(11982),d=t(78002),m=t(66245),x=t(32848),f=t(73921),p=t(39241),h=t(2784),k=t(98826),g=t(72239),Z=t(50071),v=t(51147),b=t(81254),j=t(97384),w=t(32288),y=function(e){var n=e.small,t=void 0!==n&&n,a=e.stakingLimit,u=e.currentBlock,d=e.stakingLimitEndBlock,m=e.stakingToken,x=e.hasPoolStarted,p=(0,f.$G)().t;return(0,r.jsxs)(o.Z,{flexDirection:"column",children:[(0,r.jsxs)(o.Z,{justifyContent:"space-between",alignItems:"center",children:[(0,r.jsxs)(i.Z,{small:t,children:[p("Max. stake per user"),":"]}),(0,r.jsx)(i.Z,{small:t,children:"".concat((0,w.NJ)(a,m.decimals,0)," ").concat(m.symbol)})]}),x&&(0,r.jsxs)(o.Z,{justifyContent:"space-between",alignItems:"center",children:[(0,r.jsxs)(i.Z,{small:t,children:[p("Max. stake limit ends in"),":"]}),(0,r.jsxs)(s.Z,{external:!0,href:(0,v.C)(d,"countdown"),children:[(0,r.jsx)(l.Z,{small:t,value:Math.max(d-u,0),decimals:0,color:"primary"}),(0,r.jsx)(i.Z,{small:t,ml:"4px",color:"primary",textTransform:"lowercase",children:p("Blocks")}),(0,r.jsx)(c.Z,{ml:"4px",color:"primary"})]})]})]})},S=t(96914),C=t(2099),T=t(93783),A=t(88030),D=t(91074),L=t(10680),P=function(e){var n=e.userData,t=e.performanceFeeAsDecimal,o=(0,f.$G)().t,a=(0,S.Z)(o("Performance fee only applies to the flexible staking rewards."),{placement:"bottom-start"}),s=a.targetRef,l=a.tooltip,c=a.tooltipVisible,u=(0,A.p1)(n),d=(0,A.IM)(n);return!t||u?null:(0,r.jsxs)(C.F,{label:(0,r.jsx)(T.Z,{ref:s,small:!0,children:o("Performance Fee")}),children:[c&&l,(0,r.jsx)(i.Z,{ml:"4px",small:!0,children:d?"".concat(t,"%"):"0~".concat(t,"%")})]})},I=function(e){var n=e.totalLocked,t=e.lockedToken,o=(0,f.$G)().t;return(0,r.jsx)(C.F,{label:(0,r.jsxs)(i.Z,{small:!0,children:[o("Total locked"),":"]}),children:(0,r.jsx)(a.z,{total:n,tokenDecimals:t.decimals,decimalsToShow:0,symbol:t.symbol})})},M=function(){var e=(0,f.$G)().t,n=(0,S.Z)(e("The average lock duration of all the locked staking positions of other users"),{placement:"bottom-start"}),t=n.targetRef,o=n.tooltip,a=n.tooltipVisible,s=(0,D.Z)().avgLockDurationsInWeeks;return(0,r.jsxs)(C.F,{label:(0,r.jsxs)(T.Z,{ref:t,small:!0,children:[e("Average lock duration"),":"]}),children:[a&&o,(0,r.jsx)(i.Z,{ml:"4px",small:!0,children:s})]})},E=function(e){var n=e.pool,t=e.stakedBalance,a=(0,f.$G)().t;return(0,r.jsxs)(o.Z,{justifyContent:"space-between",alignItems:"center",children:[(0,r.jsxs)(i.Z,{small:!0,children:[a("APR"),":"]}),(0,r.jsx)(L.Z,{pool:n,showIcon:!0,stakedBalance:t,performanceFee:0,fontSize:"14px"})]})},B=(0,h.memo)(function(e){var n=e.pool,t=e.account,h=e.showTotalStaked,w=e.alignLinksToRight,S=void 0===w||w,C=(0,f.$G)().t,T=(0,k.je)(),A=n.stakingToken,D=n.earningToken,L=n.totalStaked,B=n.startBlock,V=n.endBlock,F=n.stakingLimit,N=n.stakingLimitEndBlock,G=n.contractAddress,O=n.vaultKey,U=n.profileRequirement,W=n.isFinished,$=n.userData,R=(null==$?void 0:$.stakedBalance)?$.stakedBalance:p.HW,z=(0,g.eB)(O),_=z.totalCakeInVault,Y=z.totalLockedAmount,K=z.fees.performanceFeeAsDecimal,H=z.userData,X=D.address||"",q=(0,b.Kn)(G),Q=(0,b.ZX)(O),J=(0,j.zy)(n,T),ee=J.shouldShowBlockCountdown,en=J.blocksUntilStart,et=J.blocksRemaining,er=J.hasPoolStarted,eo=J.blocksToDisplay;return(0,r.jsxs)(r.Fragment,{children:[U&&(U.required||U.thresholdPoints.gt(0))&&(0,r.jsxs)(o.Z,{mb:"8px",justifyContent:"space-between",children:[(0,r.jsxs)(i.Z,{small:!0,children:[C("Requirement"),":"]}),(0,r.jsxs)(i.Z,{small:!0,textAlign:"right",children:[U.required&&C("Pancake Profile")," ",U.thresholdPoints.gt(0)&&(0,r.jsxs)(i.Z,{small:!0,children:[U.thresholdPoints.toNumber().toLocaleString()," ",C("Profile Points")]})]})]}),!O&&(0,r.jsx)(E,{pool:n,stakedBalance:R}),(void 0===h||h)&&(0,r.jsx)(a.R,{totalStaked:O?_:L,tokenDecimals:A.decimals,symbol:A.symbol,decimalsToShow:0}),O===Z.om.CakeVault&&(0,r.jsx)(I,{totalLocked:Y,lockedToken:A}),O===Z.om.CakeVault&&(0,r.jsx)(M,{}),!W&&F&&F.gt(0)&&(0,r.jsx)(y,{small:!0,currentBlock:T,hasPoolStarted:er,stakingLimit:F,stakingLimitEndBlock:N,stakingToken:A}),ee&&(0,r.jsxs)(o.Z,{mb:"2px",justifyContent:"space-between",alignItems:"center",children:[(0,r.jsxs)(i.Z,{small:!0,children:[C(er?"Ends in":"Starts in"),":"]}),et||en?(0,r.jsx)(o.Z,{alignItems:"center",children:(0,r.jsxs)(s.Z,{external:!0,href:(0,v.C)(er?V:B,"countdown"),children:[(0,r.jsx)(l.Z,{small:!0,value:eo,decimals:0,color:"primary"}),(0,r.jsx)(i.Z,{small:!0,ml:"4px",color:"primary",textTransform:"lowercase",children:C("Blocks")}),(0,r.jsx)(c.Z,{ml:"4px",color:"primary"})]})}):(0,r.jsx)(u.Z,{width:"54px",height:"21px"})]}),O&&(0,r.jsx)(P,{userData:H,performanceFeeAsDecimal:K}),(0,r.jsx)(o.Z,{mb:"2px",justifyContent:S?"flex-end":"flex-start",children:(0,r.jsx)(d.Z,{href:"/info/token/".concat(D.address),bold:!1,small:!0,children:C("See Token Info")})}),!O&&(0,r.jsx)(o.Z,{mb:"2px",justifyContent:S?"flex-end":"flex-start",children:(0,r.jsx)(d.Z,{href:D.projectLink,bold:!1,small:!0,children:C("View Project Site")})}),O&&(0,r.jsx)(o.Z,{mb:"2px",justifyContent:S?"flex-end":"flex-start",children:(0,r.jsx)(d.Z,{href:"https://docs.dapp-frontend-prince.web.app/products/syrup-pool/new-cake-pool",bold:!1,small:!0,children:C("View Tutorial")})}),q&&(0,r.jsx)(o.Z,{mb:"2px",justifyContent:S?"flex-end":"flex-start",children:(0,r.jsx)(d.Z,{isBscScan:!0,href:"".concat(x.eG.blockExplorers.default.url,"/address/").concat(O?Q:q),bold:!1,small:!0,children:C("View Contract")})}),t&&X&&(0,r.jsx)(o.Z,{justifyContent:S?"flex-end":"flex-start",children:(0,r.jsx)(m.Z,{variant:"text",p:"0",height:"auto",style:{fontSize:"14px",fontWeight:"400",lineHeight:"normal"},marginTextBetweenLogo:"4px",textOptions:m.L.TEXT,tokenAddress:X,tokenSymbol:D.symbol,tokenDecimals:D.decimals,tokenLogo:"https://tokens.dapp-frontend-prince.web.app/images/".concat(X,".png")})})]})})},45513:function(e,n,t){var r=t(52322),o=t(73921),i=t(99729),a=t(96914),s=i.l.Tags,l=s.CompoundingPoolTag,c=s.ManualPoolTag,u=s.LockedPoolTag,d=s.LockedOrAutoPoolTag;n.Z=function(e){var n,t=e.account,i=e.vaultKey,s=e.isLocked,m=e.children;n=(0,(0,o.$G)().t)(i?t?s?"Rewards are locked until the end of the staking position.":"Rewards are distributed and included in your total staking balance.":"In flexible staking, rewards are distributed and included in your total staking balance. In locked staking, Rewards are locked until the end of the staking position.":"You must harvest and compound your earnings from this pool manually.");var x=(0,a.Z)(n,{placement:"bottom"}),f=x.targetRef,p=x.tooltip,h=x.tooltipVisible;return(0,r.jsxs)(r.Fragment,{children:[i?t?s?(0,r.jsx)(u,{}):(0,r.jsx)(l,{}):(0,r.jsx)(d,{}):(0,r.jsx)(c,{}),h&&p,m(f)]})}},76969:function(e,n,t){t.d(n,{X:function(){return T}});var r,o,i,a=t(47842),s=t(70865),l=t(96670),c=t(26297),u=t(52322),d=t(48025),m=t(11549),x=t(84938),f=t(25861),p=t(83198),h=t(5406),k=t(46705),g=t(32301),Z=t(88173),v=t(73921),b=t(2784),j=t(88030),w=(r={},(0,a.Z)(r,j.PS.None,{}),(0,a.Z)(r,j.PS.Flexible,{variant:"success"}),(0,a.Z)(r,j.PS.Locked,{variant:"secondary"}),(0,a.Z)(r,j.PS.LockedEnd,{variant:"secondary",outline:!0}),(0,a.Z)(r,j.PS.AfterBurning,{variant:"failure",outline:!0}),r),y=(o={},(0,a.Z)(o,j.PS.None,null),(0,a.Z)(o,j.PS.Flexible,d.Z),(0,a.Z)(o,j.PS.Locked,m.Z),(0,a.Z)(o,j.PS.LockedEnd,x.Z),(0,a.Z)(o,j.PS.AfterBurning,f.Z),o),S=(i={},(0,a.Z)(i,j.PS.None,""),(0,a.Z)(i,j.PS.Flexible,(0,u.jsx)(Z.Z,{children:"Flexible"})),(0,a.Z)(i,j.PS.Locked,(0,u.jsx)(Z.Z,{children:"Locked"})),(0,a.Z)(i,j.PS.LockedEnd,(0,u.jsx)(Z.Z,{children:"Locked End"})),(0,a.Z)(i,j.PS.AfterBurning,(0,u.jsx)(Z.Z,{children:"After Burning"})),i),C=function(e){var n=e.position;return(0,u.jsxs)(p.Z,(0,l.Z)((0,s.Z)({},w[n]),{children:[(0,u.jsx)(h.ZP,{as:y[n],mr:"4px"}),S[n]]}))},T=function(e){var n=e.userData,t=(0,c.Z)(e,["userData"]),r=(0,v.$G)().t,o=(0,b.useMemo)(function(){return(0,j.cP)(n)},[n]);return o?(0,u.jsxs)(k.Z,(0,l.Z)((0,s.Z)({alignItems:"center",justifyContent:"space-between",marginX:"8px",mb:"8px",gap:"12px"},t),{children:[(0,u.jsx)(g.Z,{fontSize:"12px",color:"secondary",textTransform:"uppercase",bold:!0,children:r("My Position")}),(0,u.jsx)(C,{position:o})]})):null}},49950:function(e,n,t){t.d(n,{E:function(){return j}});var r=t(70865),o=t(96670),i=t(26297),a=t(87394),s=t(52322),l=t(41970),c=t(84631),u=t(2572),d=t(5406),m=t(54905),x=t(73921),f=t(3024),p=t(2784),h=t(50071),k=t(72239),g=t(4709),Z=t(90327),v=t(14996),b=t(43577),j=function(e){var n,t,m=e.pool,g=e.initialView,j=(0,i.Z)(e,["pool","initialView"]),y=(0,k.eB)(m.vaultKey).userData.balance.cakeAsBigNumber,S=(0,f.o)(),C=S.getLockedApy,T=S.flexibleApy,A=(0,x.$G)().t,D=(0,Z.Z)().account,L=(0,a.Z)((0,p.useState)(g||0),2),P=L[0],I=L[1],M=(0,a.Z)((0,p.useState)(function(){return(0,b.AS)(1)}),2),E=M[0],B=M[1],V=(0,p.useMemo)(function(){return[(0,s.jsx)(l.Z,{children:A("Flexible")},"Flexible"),(0,s.jsx)(l.Z,{children:A("Locked")},"Locked")]},[A]),F=(0,p.useMemo)(function(){return 0===P?T:C(E)},[P,C,T,E]),N=(0,a.Z)((0,p.useState)(!1),2),G=N[0],O=N[1];return(0,s.jsx)(c.Z,(0,o.Z)((0,r.Z)({isLocked:1===P,account:D,stakingTokenSymbol:m.stakingToken.symbol,apy:+F,initialState:{controls:{compounding:!1}},linkHref:"/swap",linkLabel:A("Get %symbol%",{symbol:m.stakingToken.symbol}),earningTokenPrice:m.earningTokenPrice,stakingTokenPrice:m.stakingTokenPrice,stakingTokenBalance:(null===(n=m.userData)||void 0===n?void 0:n.stakingTokenBalance)?y.plus(null===(t=m.userData)||void 0===t?void 0:t.stakingTokenBalance):y,stakingTokenDecimals:m.stakingToken.decimals,autoCompoundFrequency:1,strategy:P?function(e,n){return(0,s.jsx)(w,{state:e,dispatch:n,stakingTokenPrice:m.stakingTokenPrice,earningTokenPrice:m.earningTokenPrice,duration:E})}:null,header:m.vaultKey===h.om.CakeVault?(0,s.jsx)(u.Z,{mb:"24px",fullWidth:!0,scale:"sm",variant:"subtle",activeIndex:P,onItemClick:I,children:V}):(0,s.jsx)(s.Fragment,{})},j),{children:P&&(0,s.jsx)(d.ZP,{mt:"16px",children:(0,s.jsx)(v.Z,{duration:E,setDuration:B,isOverMax:!1,isMaxSelected:G,setIsMaxSelected:O})})}))};function w(e){var n=e.state,t=e.dispatch,r=e.earningTokenPrice,o=e.duration,i=e.stakingTokenPrice,a=(0,f.o)().getLockedApy,s=n.data,l=s.principalAsUSD,c=s.roiUSD,u=n.controls,d=u.compounding,x=u.compoundingFrequency,h=u.stakingDuration,k=u.mode;return(0,p.useEffect)(function(){if(k===m.ee.ROI_BASED_ON_PRINCIPAL){var e=parseFloat(l),n=e/r*(+a(o)/100)*(o/31449600),i=!Number.isNaN(n),s=i?n:0,c=i?s*r:0,u=i?(0,g.Lu)({amountEarned:c,amountInvested:e}):0;t({type:"setRoi",payload:{roiUSD:c,roiTokens:s,roiPercentage:u}})}},[l,h,r,d,x,k,o,t,a]),(0,p.useEffect)(function(){if(k===m.ee.PRINCIPAL_BASED_ON_ROI){var e=c/(+a(o)/100)/(o/31449600),n=(0,g.Lu)({amountEarned:c,amountInvested:e});t({type:"setPrincipalForTargetRoi",payload:{principalAsUSD:e.toFixed(2),principalAsToken:(e/i).toFixed(10),roiPercentage:n}})}},[t,o,a,k,c,i]),null}},99511:function(e,n,t){t.d(n,{w:function(){return u}});var r=t(52322),o=t(96914),i=t(5406),a=t(46705),s=t(68303),l=t(93783),c=t(73921),u=function(e){var n=e.onFlexibleClick,t=e.onLockedClick,u=(0,c.$G)().t,d=(0,o.Z)((0,r.jsx)(i.ZP,{children:u("Flexible staking offers flexibility for staking/unstaking whenever you want. Locked staking offers higher APY as well as other benefits.")}),{}),m=d.targetRef,x=d.tooltip,f=d.tooltipVisible;return(0,r.jsxs)(i.ZP,{width:"100%",children:[(0,r.jsxs)(a.Z,{gap:"12px",children:[(0,r.jsx)(s.Z,{style:{flex:1},onClick:n,children:u("Flexible")}),t&&(0,r.jsx)(s.Z,{style:{flex:1},onClick:t,children:u("Locked")})]}),f&&x,t&&(0,r.jsx)(l.Z,{mt:"16px",small:!0,ref:m,children:u("What’s the difference?")})]})}},43577:function(e,n,t){t.d(n,{AS:function(){return c},Ot:function(){return s},i8:function(){return l}});var r=t(784),o=t(69295),i=t(94533),a=t(61973),s=function(e){var n=new Date,t=(0,a.Z)(n,e);return(0,o.Z)(new Date(t),n,{roundingMethod:"round"})},l=function(e){var n=new Date,t=(0,a.Z)(n,e);return(0,i.Z)(new Date(t),n)},c=function(e){return 604800*e};n.ZP=function(e){return(0,r.Z)({weeks:s(e)})}},64122:function(e,n,t){t.d(n,{iB:function(){return Z},dI:function(){return b},Le:function(){return v}});var r=t(98788),o=t(45680),i=t(52322),a=t(2784),s=t(517),l=t(90711),c=t(95625);t(71033);var u=t(97124),d=t(73921),m=t(56521),x=t(25130),f=t(25571),p=t(90395),h=t(86054),k=t(6208),g=t(85659),Z=function(e,n,t){var k=(0,x.p)().toastSuccess,g=(0,p.Z)(),Z=g.fetchWithCatchTxError,v=g.loading,b=(0,f.d)().callWithGasPrice,j=(0,d.$G)().t,w=(0,c.TL)(),y=(0,s.mA)().address,S=(0,m.AP)(n);return{handleApprove:(0,a.useCallback)((0,r.Z)(function(){var r;return(0,o.__generator)(this,function(o){switch(o.label){case 0:return[4,Z(function(){return b(e,"approve",[S.address,l.Bz])})];case 1:return(null==(r=o.sent())?void 0:r.status)&&(k(j("Contract Enabled"),(0,i.jsx)(h.Y,{txHash:r.transactionHash,children:j("You can now stake in the %symbol% pool!",{symbol:t})})),w((0,u.Oy)({sousId:n,account:y}))),[2]}})}),[y,w,e,S,n,t,j,k,b,Z]),pendingTx:v}},v=function(e,n){var t=(0,m.Ak)(e),r=(0,d.$G)().t;return(0,g.Z)(n,null==t?void 0:t.address,r("You can now stake in the %symbol% vault!",{symbol:"MDEX"}))},b=function(e){var n=(0,m.Ak)(e);return(0,k.Z)(null==n?void 0:n.address)}},91225:function(e,n,t){t.d(n,{D:function(){return i}});var r=t(87394),o=t(2784),i=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:259200;return e+n-Math.floor(Date.now()/1e3)>0};n.Z=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:259200,i=(0,r.Z)((0,o.useState)(null),2),a=i[0],s=i[1],l=(0,r.Z)((0,o.useState)(!1),2),c=l[0],u=l[1],d=(0,r.Z)((0,o.useState)(function(){return Math.floor(Date.now()/1e3)}),2),m=d[0],x=d[1];return(0,o.useEffect)(function(){var r=e+t-m,o=n.gt(0)&&r>0,i=function(){x(function(e){return e+1})},a=setInterval(function(){return i()},1e3);return o?(s(r),u(!0)):(u(!1),clearInterval(a)),function(){return clearInterval(a)}},[e,t,s,m,n]),{hasUnstakingFee:c,secondsRemaining:a}}},20871:function(e,n,t){t.d(n,{i:function(){return r}});var r=86400;n.Z=function(e){var n=Math.abs(e),t={years:0,months:0,days:0,hours:0,minutes:0,seconds:0};return n>=31557600&&(t.years=Math.floor(n/31557600),n-=31557600*t.years),n>=2629800&&(t.months=Math.floor(n/2629800),n-=2629800*t.months),n>=r&&(t.days=Math.floor(n/r),n-=t.days*r),n>=3600&&(t.hours=Math.floor(n/3600),n-=3600*t.hours),n>=60&&(t.minutes=Math.floor(n/60),n-=60*t.minutes),t.seconds=n,t}}}]);
//# sourceMappingURL=857-3dc0cb2851b8d53b.js.map