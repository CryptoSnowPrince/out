(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4734],{4708:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/create-profile",function(){return t(10307)}])},8280:function(e,n,t){"use strict";var r=t(92228),i=t(52322),o=t(3411),s=t(43435),c=t(42617);function a(){var e=(0,r.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return a=function(){return e},e}var u=(0,o.ZP)(c.Z).withConfig({componentId:"sc-5ad34a86-0"})(a());n.Z=function(){return(0,i.jsx)(u,{children:(0,i.jsx)(s.Z,{})})}},10307:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return eQ}});var r,i,o=t(52322),s=t(2784),c=t(517),a=t(42617),u=t(61491),l=t(8280),d=t(5632),f=t(92228),p=t(3411),h=t(87016),m=t(32301),x=t(91928),Z=t(68303),b=t(33193),v=t(73921),g=t(98788),C=t(70865),j=t(96670),S=t(87394),w=t(45680),y=t(36561),k=t(59656),A=(0,k.parseUnits)("1"),I=(0,k.parseUnits)("0.5"),_=["5","6","7","8","9"],P=A.add(I),E=P.mul(5),N={isInitialized:!1,currentStep:0,teamId:null,selectedNft:{collectionAddress:null,tokenId:null},userName:"",minimumCakeRequired:P,allowance:E},D=function(e,n){switch(n.type){case"initialize":return(0,j.Z)((0,C.Z)({},e),{isInitialized:!0,currentStep:n.step});case"next_step":return(0,j.Z)((0,C.Z)({},e),{currentStep:e.currentStep+1});case"set_team":return(0,j.Z)((0,C.Z)({},e),{teamId:n.teamId});case"set_selected_nft":return(0,j.Z)((0,C.Z)({},e),{selectedNft:{tokenId:n.tokenId,collectionAddress:n.collectionAddress}});case"set_username":return(0,j.Z)((0,C.Z)({},e),{userName:n.userName});default:return e}},L=(0,s.createContext)(null),T=function(e){var n=e.children,t=(0,S.Z)((0,s.useReducer)(D,N),2),r=t[0],i=t[1],a=(0,c.mA)().address;(0,s.useEffect)(function(){var e,n=!0,t=(e=(0,g.Z)(function(){var e;return(0,w.__generator)(this,function(t){switch(t.label){case 0:return[4,(0,y.mU)().canMint(a)];case 1:return i({type:"initialize",step:(e=t.sent())?0:1}),n&&i({type:"initialize",step:e?0:1}),[2]}})}),function(){return e.apply(this,arguments)});return a&&t(),function(){n=!1}},[a,i]);var u=(0,s.useMemo)(function(){return{nextStep:function(){return i({type:"next_step"})},setTeamId:function(e){return i({type:"set_team",teamId:e})},setSelectedNft:function(e,n){return i({type:"set_selected_nft",tokenId:e,collectionAddress:n})},setUserName:function(e){return i({type:"set_username",userName:e})}}},[i]),l=(0,s.useMemo)(function(){return(0,j.Z)((0,C.Z)({},r),{actions:u})},[r,u]);return(0,o.jsx)(L.Provider,{value:l,children:n})};function M(){var e=(0,f.Z)(["\n  border-bottom: 2px solid ",";\n  margin-top: 32px;\n  margin-bottom: 24px;\n  padding-bottom: 24px;\n"]);return M=function(){return e},e}var F=p.ZP.div.withConfig({componentId:"sc-3470d1bf-0"})(M(),function(e){return e.theme.colors.textSubtle}),O=function(){var e=(0,v.$G)().t,n=(0,s.useContext)(L).currentStep;return(0,o.jsxs)(F,{children:[(0,o.jsx)(h.Z,{as:"h1",scale:"xxl",color:"secondary",mb:"8px",id:"profile-setup-title",children:e("Profile Setup")}),(0,o.jsx)(h.Z,{as:"h2",scale:"lg",mb:"8px",children:e("Show off your stats and collectibles with your unique profile")}),(0,o.jsx)(m.Z,{color:"textSubtle",mb:"8px",children:e("Total cost: 1.5 CAKE")}),(0,o.jsx)(x.Z,{href:"/profile",children:(0,o.jsx)(Z.Z,{mb:"24px",scale:"sm",variant:"secondary",children:e("Back to profile")})}),(0,o.jsx)(b.Z,{children:[e("Get Starter Collectible"),e("Set Profile Picture"),e("Join Team"),e("Set Name")].map(function(t,r){return(0,o.jsx)(m.Z,{color:r<=n?"text":"textDisabled",children:t},e(t))})})]})},R=t(95457),G=function(){var e=(0,v.$G)().t;return(0,o.jsxs)("div",{children:[(0,o.jsx)(h.Z,{scale:"xl",mb:"8px",children:e("Oops!")}),(0,o.jsx)(m.Z,{as:"p",mb:"16px",children:e("Please connect your wallet to continue")}),(0,o.jsx)(R.Z,{})]})},z=t(25130),U=t(80751),q=t(40125),W=t(42351),K=t(56521),Y=t(78040),J=t(25571),Q=t(33132),V=t(21565),B=t(85361),$=t(35136),H=t(57647),X=t(45077),ee=t(59696),en=function(e){return(0,o.jsx)(Z.Z,(0,C.Z)({endIcon:(0,o.jsx)(ee.Z,{color:"currentColor"})},e))},et=function(){return(0,s.useContext)(L)},er=function(){var e=(0,S.Z)((0,s.useState)(""),2),n=e[0],t=e[1],r=(0,S.Z)((0,s.useState)([]),2),i=r[0],a=r[1],u=et(),l=u.actions,d=u.minimumCakeRequired,f=u.allowance,p=(0,z.p)().toastSuccess,x=(0,c.mA)().address,Z=(0,K.kL)(),b=Z.reader,y=Z.signer,I=(0,K.LN)(),P=(0,v.$G)().t,E=(0,Y.Nn)(),N=E.balance,D=E.fetchStatus===H.iF.Fetched&&N.gte(A),L=(0,J.d)().callWithGasPrice;(0,s.useEffect)(function(){var e,n=(e=(0,g.Z)(function(){var e,n;return(0,w.__generator)(this,function(t){switch(t.label){case 0:return[4,(0,V.Rq)(B.J)];case 1:if(!(e=t.sent()))return[2];return n=e.data,a(_.map(function(e){if(n&&n[e])return(0,j.Z)((0,C.Z)({},n[e]),{bunnyId:e})})),[2]}})}),function(){return e.apply(this,arguments)});0===i.length&&n()},[i]);var T=(0,W.Z)({onRequiresApproval:(0,g.Z)(function(){return(0,w.__generator)(this,function(e){return[2,(0,$.S)(b,x,I.address,d)]})}),onApprove:function(){return L(y,"approve",[I.address,f.toString()])},onConfirm:function(){return L(I,"mintNFT",[n])},onApproveSuccess:function(){p(P("Enabled"),P("Press 'confirm' to mint this NFT"))},onSuccess:function(){p(P("Success"),P("You have minted your starter NFT")),l.nextStep()}}),M=T.isApproving,F=T.isApproved,O=T.isConfirmed,R=T.isConfirming,G=T.handleApprove,ee=T.handleConfirm;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(m.Z,{fontSize:"20px",color:"textSubtle",bold:!0,children:P("Step %num%",{num:1})}),(0,o.jsx)(h.Z,{as:"h3",scale:"xl",mb:"24px",children:P("Get Starter Collectible")}),(0,o.jsx)(m.Z,{as:"p",children:P("Every profile starts by making a “starter” collectible (NFT).")}),(0,o.jsx)(m.Z,{as:"p",children:P("This starter will also become your first profile picture.")}),(0,o.jsx)(m.Z,{as:"p",mb:"24px",children:P("You can change your profile pic later if you get another approved Pancake Collectible.")}),(0,o.jsx)(U.Z,{mb:"24px",children:(0,o.jsxs)(q.Z,{children:[(0,o.jsx)(h.Z,{as:"h4",scale:"lg",mb:"8px",children:P("Choose your Starter!")}),(0,o.jsx)(m.Z,{as:"p",color:"textSubtle",children:P("Choose wisely: you can only ever make one starter collectible!")}),(0,o.jsx)(m.Z,{as:"p",mb:"24px",color:"textSubtle",children:P("Cost: %num% CAKE",{num:(0,k.formatUnits)(A)})}),i.map(function(e){return(0,o.jsx)(X.Z,{name:"mintStarter",value:null==e?void 0:e.bunnyId,image:null==e?void 0:e.image.thumbnail,isChecked:n===(null==e?void 0:e.bunnyId),onChange:function(e){return t(e)},disabled:M||R||O||!D,children:(0,o.jsx)(m.Z,{bold:!0,children:null==e?void 0:e.name})},null==e?void 0:e.name)}),!D&&(0,o.jsx)(m.Z,{color:"failure",mb:"16px",children:P("A minimum of %num% CAKE is required",{num:(0,k.formatUnits)(A)})}),(0,o.jsx)(Q.Z,{isApproveDisabled:null===n||O||R||F,isApproving:M,isConfirmDisabled:!F||O||!D,isConfirming:R,onApprove:G,onConfirm:ee})]})}),(0,o.jsx)(en,{onClick:l.nextStep,disabled:!O,children:P("Next Step")})]})},ei=t(97712),eo=t(11982),es=t(40330),ec=t(81254),ea=t(90395),eu=t(36813),el=t(60242),ed=t(92335),ef=t(40015);function ep(){var e=(0,f.Z)(["\n  color: ",";\n"]);return ep=function(){return e},e}function eh(){var e=(0,f.Z)(["\n  margin-bottom: 24px;\n"]);return eh=function(){return e},e}var em=(0,p.ZP)(ei.Z).withConfig({componentId:"sc-660d886-0"})(ep(),function(e){return e.theme.colors.primary}),ex=p.ZP.div.withConfig({componentId:"sc-660d886-1"})(eh()),eZ=function(){var e,n=(0,c.mA)().address,t=(0,S.Z)((0,s.useState)(!1),2),r=t[0],i=t[1],a=(0,S.Z)((0,s.useState)(!0),2),l=a[0],d=a[1],f=(0,S.Z)((0,s.useState)(null),2),p=f[0],x=f[1],b=(0,s.useContext)(L),C=b.selectedNft,j=b.actions,k=(0,K.wr)(!1),A=(0,u.Un)(),I=A.isLoading,_=A.profile,P=(0,ef.L)(n,_,I),E=P.nfts,N=P.isLoading;(0,s.useEffect)(function(){var e,n=(e=(0,g.Z)(function(){var e,n,t,r;return(0,w.__generator)(this,function(i){switch(i.label){case 0:if(i.trys.push([0,5,6,7]),!((e=Array.from(E.reduce(function(e,n){return e.add(n.collectionAddress),e},new Set))).length>0))return[3,3];return[4,k.NFT_ROLE()];case 1:return n=i.sent(),t=e.map(function(e){return{address:k.address,name:"hasRole",params:[n,e]}}),[4,(0,el.ZP)(ed,t)];case 2:return r=i.sent().flat(),x(E.filter(function(n){return r[e.indexOf(n.collectionAddress)]})),[3,4];case 3:x(null),i.label=4;case 4:return[3,7];case 5:return console.error(i.sent()),x(null),[3,7];case 6:return d(!1),[7];case 7:return[2]}})}),function(){return e.apply(this,arguments)});N||(d(!0),n())},[E,k,N]);var D=(0,v.$G)().t,T=(0,z.p)().toastSuccess,M=(0,ea.Z)(),F=M.fetchWithCatchTxError,O=M.loading,R=(0,J.d)().callWithGasPrice,G=(0,c.mx)().data,W=(e=(0,g.Z)(function(){var e,n;return(0,w.__generator)(this,function(t){switch(t.label){case 0:return e=(0,y.vE)(C.collectionAddress,G),[4,F(function(){return R(e,"approve",[(0,ec.Re)(),C.tokenId])})];case 1:return(null==(n=t.sent())?void 0:n.status)&&(T(D("Enabled"),D("Please progress to the next step.")),i(!0)),[2]}})}),function(){return e.apply(this,arguments)});return(null==p?void 0:p.length)||l?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(m.Z,{fontSize:"20px",color:"textSubtle",bold:!0,children:D("Step %num%",{num:2})}),(0,o.jsx)(h.Z,{as:"h3",scale:"xl",mb:"24px",children:D("Set Profile Picture")}),(0,o.jsx)(U.Z,{mb:"24px",children:(0,o.jsxs)(q.Z,{children:[(0,o.jsx)(h.Z,{as:"h4",scale:"lg",mb:"8px",children:D("Choose collectible")}),(0,o.jsx)(m.Z,{as:"p",color:"textSubtle",children:D("Choose a profile picture from the eligible collectibles (NFT) in your wallet, shown below.")}),(0,o.jsxs)(m.Z,{as:"p",color:"textSubtle",mb:"24px",children:[D("Only approved Pancake Collectibles can be used."),(0,o.jsx)(em,{to:"".concat(B.V,"/collections"),style:{marginLeft:"4px"},children:D("See the list >")})]}),(0,o.jsx)(ex,{children:(null==p?void 0:p.length)?p.filter(function(e){return e.location===eu.Fb.WALLET}).map(function(e){return(0,o.jsx)(X.Z,{name:"profilePicture",value:e.tokenId,image:e.image.thumbnail,isChecked:e.tokenId===C.tokenId,onChange:function(n){return j.setSelectedNft(n,e.collectionAddress)},children:(0,o.jsx)(m.Z,{bold:!0,children:e.name})},"".concat(e.collectionAddress,"#").concat(e.tokenId))}):(0,o.jsx)(eo.Z,{width:"100%",height:"64px"})}),(0,o.jsx)(h.Z,{as:"h4",scale:"lg",mb:"8px",children:D("Allow collectible to be locked")}),(0,o.jsx)(m.Z,{as:"p",color:"textSubtle",mb:"16px",children:D("The collectible you've chosen will be locked in a smart contract while it’s being used as your profile picture. Don't worry - you'll be able to get it back at any time.")}),(0,o.jsx)(Z.Z,{isLoading:O,disabled:r||O||null===C.tokenId,onClick:W,endIcon:O?(0,o.jsx)(es.Z,{spin:!0,color:"currentColor"}):void 0,id:"approveStarterCollectible",children:D("Enable")})]})}),(0,o.jsx)(en,{onClick:j.nextStep,disabled:null===C.tokenId||!r||O,children:D("Next Step")})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(h.Z,{scale:"xl",mb:"24px",children:D("Oops!")}),(0,o.jsx)(m.Z,{bold:!0,fontSize:"20px",mb:"24px",children:D("We couldn’t find any Pancake Collectibles in your wallet.")}),(0,o.jsxs)(m.Z,{as:"p",mb:"24px",children:[D("Only approved Pancake Collectibles can be used."),(0,o.jsx)(em,{to:"".concat(B.V,"/profile/pancake-collectibles"),style:{marginLeft:"4px"},children:D("See the list >")})]}),(0,o.jsx)(m.Z,{as:"p",children:D("You need a Pancake Collectible to finish setting up your profile. If you sold or transferred your starter collectible to another wallet, you’ll need to get it back or acquire a new one somehow. You can’t make a new starter with this wallet address.")})]})},eb=t(33080),ev=t(17163),eg=t(3255),eC=t(46152),ej=t.n(eC),eS=t(69383),ew=function(){var e=et(),n=e.teamId,t=e.actions,r=(0,v.$G)().t,i=(0,eg.ZP)("teams",(0,g.Z)(function(){return(0,w.__generator)(this,function(e){return[2,(0,eS.L)()]})})).data,c=(0,s.useMemo)(function(){return i?ej()(Object.values(i)):[]},[i]),a=function(e){return t.setTeamId(parseInt(e,10))};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(m.Z,{fontSize:"20px",color:"textSubtle",bold:!0,children:r("Step %num%",{num:3})}),(0,o.jsx)(h.Z,{as:"h3",scale:"xl",mb:"24px",children:r("Join a Team")}),(0,o.jsx)(m.Z,{as:"p",mb:"24px",children:r("It won’t be possible to undo the choice you make for the foreseeable future!")}),(0,o.jsx)(U.Z,{mb:"24px",children:(0,o.jsxs)(q.Z,{children:[(0,o.jsx)(h.Z,{as:"h4",scale:"lg",mb:"8px",children:r("Join a Team")}),(0,o.jsx)(m.Z,{as:"p",color:"textSubtle",mb:"24px",children:r("There’s currently no big difference between teams, and no benefit of joining one team over another for now. So pick whichever one you like!")}),c&&c.map(function(e){return(0,o.jsxs)(X.Z,{name:"teams-selection",value:e.id,isChecked:n===e.id,image:"/images/teams/".concat(e.images.md),onChange:a,disabled:!e.isJoinable,children:[(0,o.jsx)(m.Z,{bold:!0,children:e.name}),(0,o.jsxs)(eb.Z,{children:[(0,o.jsx)(ev.Z,{mr:"8px"}),(0,o.jsx)(m.Z,{children:e.users.toLocaleString()})]})]},e.name)})]})}),(0,o.jsx)(en,{onClick:t.nextStep,disabled:null===n,children:r("Next Step")})]})},ey=t(64170),ek=t(61736),eA=t(36429),eI=t(4981),e_=t(12628),eP=t(92177),eE=t(32602),eN=t(80173),eD=t(7055),eL=t(23855),eT=t(26297),eM=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.timeout,r=void 0===t?1e4:t,i=(0,eT.Z)(n,["timeout"]);return Promise.race([fetch(e,i),new Promise(function(n,t){setTimeout(function(){t(Error("Request for ".concat(e," timed out after ").concat(r," milliseconds")))},r)})])},eF=t(25385),eO=t(86054),eR=function(e){var n,t=e.account,r=e.teamId,i=e.selectedNft,s=e.minimumCakeRequired,c=e.allowance,a=e.onDismiss,l=(0,v.$G)().t,d=(0,K.wr)(),f=(0,u.Un)().refresh,p=(0,z.p)().toastSuccess,h=(0,K.kL)(),x=h.reader,Z=h.signer,b=(0,J.d)().callWithGasPrice,C=(0,W.Z)({onRequiresApproval:(0,g.Z)(function(){return(0,w.__generator)(this,function(e){return[2,(0,$.S)(x,t,d.address,s)]})}),onApprove:function(){return b(Z,"approve",[d.address,c.toJSON()])},onConfirm:function(){return b(d,"createProfile",[r,i.collectionAddress,i.tokenId])},onSuccess:(n=(0,g.Z)(function(e){var n;return(0,w.__generator)(this,function(t){return n=e.receipt,f(),a(),p(l("Profile created!"),(0,o.jsx)(eO.Y,{txHash:n.transactionHash})),[2]})}),function(e){return n.apply(this,arguments)})}),j=C.isApproving,S=C.isApproved,y=C.isConfirmed,A=C.isConfirming,_=C.handleApprove,P=C.handleConfirm;return(0,o.jsxs)(eF.ZP,{title:l("Complete Profile"),onDismiss:a,children:[(0,o.jsx)(m.Z,{color:"textSubtle",mb:"8px",children:l("Submitting NFT to contract and confirming User Name and Team.")}),(0,o.jsxs)(eb.Z,{justifyContent:"space-between",mb:"16px",children:[(0,o.jsx)(m.Z,{children:l("Cost")}),(0,o.jsx)(m.Z,{children:l("%num% CAKE",{num:(0,k.formatUnits)(I)})})]}),(0,o.jsx)(Q.Z,{isApproveDisabled:y||A||S,isApproving:j,isConfirmDisabled:!S||y,isConfirming:A,onApprove:_,onConfirm:P})]})};function eG(){var e=(0,f.Z)(["\n  position: relative;\n  max-width: 240px;\n"]);return eG=function(){return e},e}function ez(){var e=(0,f.Z)(["\n  padding-right: 40px;\n"]);return ez=function(){return e},e}function eU(){var e=(0,f.Z)(["\n  align-items: center;\n  height: 24px;\n  justify-content: center;\n  margin-top: -12px;\n  position: absolute;\n  right: 16px;\n  top: 50%;\n  width: 24px;\n"]);return eU=function(){return e},e}(r=i||(i={})).IDLE="idle",r.CREATED="created",r.NEW="new";var eq=p.ZP.div.withConfig({componentId:"sc-621246a5-0"})(eG()),eW=(0,p.ZP)(ey.Z).withConfig({componentId:"sc-621246a5-1"})(ez()),eK=(0,p.ZP)(eb.Z).withConfig({componentId:"sc-621246a5-2"})(eU()),eY=function(){var e,n=(0,S.Z)((0,s.useState)(!1),2),t=n[0],r=n[1],a=et(),u=a.teamId,l=a.selectedNft,d=a.userName,f=a.actions,p=a.minimumCakeRequired,x=a.allowance,b=(0,v.$G)().t,C=(0,c.mA)().address,j=(0,z.p)().toastError,y=(0,eE.QW)().signMessageAsync,A=(0,S.Z)((0,s.useState)(i.IDLE),2),_=A[0],P=A[1],E=(0,S.Z)((0,s.useState)(!1),2),N=E[0],D=E[1],L=(0,S.Z)((0,s.useState)(!1),2),T=L[0],M=L[1],F=(0,S.Z)((0,s.useState)(""),2),O=F[0],R=F[1],G=(0,s.useRef)(null),W=(0,Y.Nn)(),K=W.balance,J=W.fetchStatus===H.iF.Fetched&&K.gte(I),Q=(0,S.Z)((0,ek.Z)((0,o.jsx)(eR,{userName:d,selectedNft:l,account:C,teamId:u,minimumCakeRequired:p,allowance:x}),!1),1)[0],V=_===i.CREATED,B=(0,S.Z)((0,s.useState)(void 0),2),$=B[0],X=B[1],ee=(0,eP.Nr)($,200);(0,s.useEffect)(function(){var e,n=(e=(0,g.Z)(function(e){var n,t,r,i;return(0,w.__generator)(this,function(o){switch(o.label){case 0:if(o.trys.push([0,6,7,8]),M(!0),ee)return[3,1];return D(!1),R(""),G.current=null,[3,5];case 1:return[4,eM("".concat(eN.dm,"/api/users/valid/").concat(ee),{method:"get",signal:e,timeout:3e4})];case 2:if(n=o.sent(),G.current=null,!n.ok)return[3,3];return D(!0),R(""),[3,5];case 3:return[4,n.json()];case 4:r=o.sent(),D(!1),R(null==r?void 0:null===(t=r.error)||void 0===t?void 0:t.message),o.label=5;case 5:return[3,8];case 6:return i=o.sent(),D(!1),i instanceof Error&&"AbortError"!==i.name&&(R(b("Error fetching data")),console.error(i)),[3,8];case 7:return M(!1),[7];case 8:return[2]}})}),function(n){return e.apply(this,arguments)});G.current&&G.current.abort(),G.current=new AbortController,n(G.current.signal)},[ee,b]);var en=(e=(0,g.Z)(function(){var e,n,t,r,o;return(0,w.__generator)(this,function(s){switch(s.label){case 0:return s.trys.push([0,6,7,8]),M(!0),[4,y({message:d})];case 1:return e=s.sent(),[4,fetch("".concat(eN.dm,"/api/users/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({address:C,username:d,signature:e})})];case 2:if(!(n=s.sent()).ok)return[3,3];return P(i.CREATED),[3,5];case 3:return[4,n.json()];case 4:r=s.sent(),j(b("Error"),null==r?void 0:null===(t=r.error)||void 0===t?void 0:t.message),s.label=5;case 5:return[3,8];case 6:return j((o=s.sent())instanceof Error&&(null==o?void 0:o.message)?o.message:JSON.stringify(o)),[3,8];case 7:return M(!1),[7];case 8:return[2]}})}),function(){return e.apply(this,arguments)});return(0,s.useEffect)(function(){var e,n=(e=(0,g.Z)(function(){var e,n;return(0,w.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,fetch("".concat(eN.dm,"/api/users/").concat(C))];case 1:return[4,(e=t.sent()).json()];case 2:return n=t.sent(),e.ok?(R(b("Created %dateCreated% ago",{dateCreated:(0,eD.Z)((0,eL.Z)(n.created_at),new Date)})),f.setUserName(n.username),P(i.CREATED),D(!0)):P(i.NEW),[3,4];case 3:return t.sent(),j(b("Error"),b("Unable to verify username")),[3,4];case 4:return[2]}})}),function(){return e.apply(this,arguments)});C&&n()},[C,P,D,R,f,j,b]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(m.Z,{fontSize:"20px",color:"textSubtle",bold:!0,children:b("Step %num%",{num:4})}),(0,o.jsx)(h.Z,{as:"h3",scale:"xl",mb:"24px",children:b("Set Your Name")}),(0,o.jsx)(m.Z,{as:"p",mb:"24px",children:b("This name will be shown in team leaderboards and search results as long as your profile is active.")}),(0,o.jsx)(U.Z,{mb:"24px",children:(0,o.jsxs)(q.Z,{children:[(0,o.jsx)(h.Z,{as:"h4",scale:"lg",mb:"8px",children:b("Set Your Name")}),(0,o.jsx)(m.Z,{as:"p",color:"textSubtle",mb:"24px",children:b("Your name must be at least 3 and at most 15 standard letters and numbers long. You can’t change this once you click Confirm.")}),_===i.IDLE?(0,o.jsx)(eo.Z,{height:"40px",width:"240px"}):(0,o.jsxs)(eq,{children:[(0,o.jsx)(eW,{onChange:function(e){var n=e.target.value;f.setUserName(n),X(n)},isWarning:d&&!N,isSuccess:d&&N,minLength:3,maxLength:15,disabled:V,placeholder:b("Enter your name..."),value:d}),(0,o.jsxs)(eK,{children:[T&&(0,o.jsx)(es.Z,{spin:!0}),!T&&N&&d&&(0,o.jsx)(eA.Z,{color:"success"}),!T&&!N&&d&&(0,o.jsx)(eI.Z,{color:"failure"})]})]}),(0,o.jsx)(m.Z,{color:"textSubtle",fontSize:"14px",py:"4px",mb:"16px",style:{minHeight:"30px"},children:O}),(0,o.jsx)(m.Z,{as:"p",color:"failure",mb:"8px",children:b("Only reuse a name from other social media if you're OK with people viewing your wallet. You can't change your name once you click Confirm.")}),(0,o.jsx)("label",{htmlFor:"checkbox",style:{display:"block",cursor:"pointer",marginBottom:"24px"},children:(0,o.jsxs)(eb.Z,{alignItems:"center",children:[(0,o.jsx)("div",{style:{flex:"none"},children:(0,o.jsx)(e_.Z,{id:"checkbox",scale:"sm",checked:t,onChange:function(){return r(!t)}})}),(0,o.jsx)(m.Z,{ml:"8px",children:b("I understand that people can view my wallet if they know my username")})]})}),(0,o.jsx)(Z.Z,{onClick:en,disabled:!N||V||T||!t,children:b("Confirm")})]})}),(0,o.jsx)(Z.Z,{onClick:Q,disabled:!N||!V,id:"completeProfileCreation",children:b("Complete Profile")}),!J&&(0,o.jsx)(m.Z,{color:"failure",mt:"16px",children:b("A minimum of %num% CAKE is required",{num:(0,k.formatUnits)(I)})})]})},eJ=function(){var e=(0,v.$G)().t,n=(0,s.useContext)(L),t=n.isInitialized,r=n.currentStep;return(0,c.mA)().address?t?0===r?(0,o.jsx)(er,{}):1===r?(0,o.jsx)(eZ,{}):2===r?(0,o.jsx)(ew,{}):3===r?(0,o.jsx)(eY,{}):null:(0,o.jsx)("div",{children:e("Loading...")}):(0,o.jsx)(G,{})},eQ=function(){var e=(0,c.mA)().address,n=(0,u.Un)(),t=n.isInitialized,r=n.isLoading,i=n.hasProfile,f=(0,d.useRouter)();return((0,s.useEffect)(function(){e&&i&&f.push("/profile/".concat(e.toLowerCase()))},[e,i,f]),!t||r)?(0,o.jsx)(l.Z,{}):(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(T,{children:(0,o.jsxs)(a.Z,{children:[(0,o.jsx)(O,{}),(0,o.jsx)(eJ,{})]})})})}},48244:function(e,n,t){"use strict";t.d(n,{Su:function(){return s},vE:function(){return i},xS:function(){return o}});var r=t(50154),i=(0,r.cn)({}),o=(0,r.cn)({}),s=(0,r.cn)(!0)},8266:function(e,n,t){"use strict";t.d(n,{D7:function(){return P},DI:function(){return _},IZ:function(){return A},YD:function(){return k},ly:function(){return D},mN:function(){return I},q4:function(){return E},t8:function(){return y},xm:function(){return N}});var r=t(98788),i=t(87394),o=t(45680),s=t(2784),c=t(51147),a=t(50154),u=t(53400),l=t(42195),d=t(81254),f=t(3255),p=t(2303),h=t(45455),m=t.n(h),x=t(46152),Z=t.n(x),b=t(10017),v=t.n(b),g=t(21565),C=t(48244),j={field:"currentAskPrice",direction:"asc"},S={typeFilters:[],collectionFilters:[]},w={},y=function(){var e=(0,f.ZP)(["nftMarket","collections"],(0,r.Z)(function(){return(0,o.__generator)(this,function(e){return[2,(0,g.bG)()]})})),n=e.data;return{data:null!=n?n:{},status:e.status}},k=function(e){var n=(0,c.UJ)(e)||"",t=(0,f.ZP)(n?["nftMarket","collections",n.toLowerCase()]:null,(0,r.Z)(function(){return(0,o.__generator)(this,function(e){return[2,(0,g._N)(n)]})})).data;return(null!=t?t:{})[n]},A=function(){var e=(0,p.Z)(["nftMarket","collections"],(0,r.Z)(function(){return(0,o.__generator)(this,function(e){return[2,(0,g.bG)()]})})).data,n=null!=e?e:{},t=(0,p.Z)(m()(n)?null:["nftMarket","shuffledCollections"],function(){return Z()(n)});return{data:t.data,status:t.status}},I=function(e){var n=(0,s.useMemo)(function(){return e.map(function(e){var n=e.tokenId;return{address:e.collectionAddress,name:"getApproved",params:[n]}})},[e]),t=(0,l.d5)(u,n).data,r=(0,d.Re)();return{data:Array.isArray(t)?v()(t.flat().map(function(n,t){return[e[t].tokenId,r===n]})):null}},_=function(e){var n,t;return null!==(t=null===(n=(0,i.Z)((0,a.KO)(C.vE),1)[0][e])||void 0===n?void 0:n.activeFilters)&&void 0!==t?t:w},P=function(e){var n,t;return null!==(t=null===(n=(0,i.Z)((0,a.KO)(C.vE),1)[0][e])||void 0===n?void 0:n.ordering)&&void 0!==t?t:j},E=function(e){var n,t;return null===(t=null===(n=(0,i.Z)((0,a.KO)(C.vE),1)[0][e])||void 0===n?void 0:n.showOnlyOnSale)||void 0===t||t},N=function(){var e=(0,i.Z)((0,a.KO)(C.Su),1)[0];return null==e||e},D=function(e){var n;return null!==(n=(0,i.Z)((0,a.KO)(C.xS),1)[0][e])&&void 0!==n?n:S}},33193:function(e,n,t){"use strict";var r=t(92228),i=t(50930),o=t(52322),s=t(2784),c=t(3411),a=t(78545),u=t(82743);function l(){var e=(0,r.Z)(["\n  align-items: center;\n  color: ",";\n  display: flex;\n  justify-content: center;\n  padding-left: 4px;\n  padding-right: 4px;\n\n  "," {\n    padding-left: 8px;\n    padding-right: 8px;\n  }\n\n  "," {\n    padding-left: 16px;\n    padding-right: 16px;\n  }\n"]);return l=function(){return e},e}function d(){var e=(0,r.Z)(["\n  align-items: center;\n  display: flex;\n  flex-wrap: wrap;\n  list-style-type: none;\n\n  a {\n    color: ",";\n\n    &:hover {\n      color: ",";\n    }\n  }\n\n  ","\n"]);return d=function(){return e},e}var f=c.ZP.div.withConfig({componentId:"sc-b9c7047c-0"})(l(),function(e){return e.theme.colors.textDisabled},function(e){return e.theme.mediaQueries.sm},function(e){return e.theme.mediaQueries.md}),p=c.ZP.ul.withConfig({componentId:"sc-b9c7047c-1"})(d(),function(e){return e.theme.colors.primary},function(e){return e.theme.colors.primaryBright},a.Dh),h=(0,o.jsx)(u.Z,{color:"currentColor",width:"24px"});n.Z=function(e){var n,t,r=e.separator,c=e.children,a=(n=s.Children.toArray(c).filter(function(e){return(0,s.isValidElement)(e)}),t=void 0===r?h:r,n.reduce(function(e,n,r){return 0===r?(0,i.Z)(e).concat([n]):(0,i.Z)(e).concat([(0,o.jsx)(f,{"aria-hidden":!0,children:t},"separator-".concat(r)),n])},[]));return(0,o.jsx)(p,{children:a.map(function(e,n){return(0,o.jsx)("li",{children:e},"child-".concat(n))})})}},80751:function(e,n,t){"use strict";t.d(n,{Z:function(){return Z}});var r=t(70865),i=t(96670),o=t(26297),s=t(52322);t(2784);var c=t(92228),a=t(3411),u=t(78545),l=t(26074),d=t(5406);function f(){var e=(0,c.Z)(["\n      animation: "," 3s ease infinite;\n      background-size: 400% 400%;\n    "]);return f=function(){return e},e}function p(){var e=(0,c.Z)(["  \n  border-radius: ",";\n  color: ",";\n  overflow: hidden;\n  position: relative;\n\n  ","\n\n  padding: 1px 1px 3px 1px;\n\n  ","\n"]);return p=function(){return e},e}function h(){var e=(0,c.Z)(["\n  width: 100%;\n  height: 100%;\n  overflow: ",";\n  background: ",";\n  border-radius: 0.5rem;\n  // box-shadow: 0 20px 25px -5px #000,0 8px 10px -6px #000;\n"]);return h=function(){return e},e}var m=a.ZP.div.withConfig({componentId:"sc-48a4a64d-0"})(p(),function(e){return e.theme.radii.card},function(e){var n=e.theme,t=e.isDisabled;return n.colors[t?"textDisabled":"text"]},function(e){return e.isActive&&(0,a.iv)(f(),l.DS)},u.Dh),x=(0,a.ZP)(d.ZP).withConfig({componentId:"sc-48a4a64d-1"})(h(),function(e){return e.hasCustomBorder?"initial":"inherit"},function(e){var n=e.theme,t=e.background;return null!=t?t:n.card.background});m.defaultProps={isActive:!1,isSuccess:!1,isWarning:!1,isDisabled:!1};var Z=function(e){var n=e.ribbon,t=e.children,c=(e.background,(0,o.Z)(e,["ribbon","children","background"]));return(0,s.jsx)(m,(0,i.Z)((0,r.Z)({},c),{children:(0,s.jsxs)(x,{background:"hsla(0,0%,100%,.15)",hasCustomBorder:!!c.borderBackground,children:[n,t]})}))}},40125:function(e,n,t){"use strict";var r=t(92228),i=t(3411),o=t(78545);function s(){var e=(0,r.Z)(["\n  ","\n"]);return s=function(){return e},e}var c=i.ZP.div.withConfig({componentId:"sc-df4f0a61-0"})(s(),o.Dh);c.defaultProps={p:"24px"},n.Z=c},64170:function(e,n,t){"use strict";var r=t(92228),i=t(3411),o=t(29708);function s(){var e=(0,r.Z)(["\n  // background-color: ",";\n  background: transparent;\n  border-radius: 6px;\n  box-shadow: ",";\n  // color: ",";\n  color: rgba(255, 255, 255, 1);\n  display: block;\n  font-size: 16px;\n  height: ",";\n  outline: 0;\n  padding: 0 16px;\n  width: 100%;\n  // border: 1px solid ",";\n  border: 1px solid rgba(255, 255, 255, 0.25);\n\n  &::placeholder {\n    color: ",";\n  }\n\n  &:disabled {\n    background-color: ",";\n    box-shadow: none;\n    color: ",";\n    cursor: not-allowed;\n  }\n\n  &:focus:not(:disabled) {\n    background-color: rgba(0, 0, 0, 0.4);\n  }\n"]);return s=function(){return e},e}var c=i.ZP.input.withConfig({componentId:"sc-47a70ceb-0"})(s(),function(e){return e.theme.colors.input},function(e){var n=e.isSuccess,t=e.isWarning,r=e.theme;return void 0!==t&&t?r.shadows.warning:void 0!==n&&n?r.shadows.success:r.shadows.inset},function(e){return e.theme.colors.text},function(e){var n=e.scale;switch(void 0===n?o.Q.MD:n){case o.Q.SM:return"32px";case o.Q.LG:return"48px";case o.Q.MD:default:return"40px"}},function(e){return e.theme.colors.inputSecondary},function(e){return e.theme.colors.textSubtle},function(e){return e.theme.colors.backgroundDisabled},function(e){return e.theme.colors.textDisabled});c.defaultProps={scale:o.Q.MD,isSuccess:!1,isWarning:!1},n.Z=c},29708:function(e,n,t){"use strict";t.d(n,{Q:function(){return r}});var r={SM:"sm",MD:"md",LG:"lg"}},43435:function(e,n,t){"use strict";var r=t(52322);t(2784);var i=t(5406),o=t(19372);n.Z=function(e){var n=e.size,t=void 0===n?128:n;return(0,r.jsx)(i.ZP,{width:t,height:1.197*t,position:"relative",children:(0,r.jsx)(o.Z,{width:t,height:1.197*t,src:"/images/spinner_new.gif",alt:"spinner"})})}},36429:function(e,n,t){"use strict";var r=t(70865),i=t(96670),o=t(52322);t(2784);var s=t(6816);n.Z=function(e){return(0,o.jsx)(s.Z,(0,i.Z)((0,r.Z)({viewBox:"0 0 24 24"},e),{children:(0,o.jsx)("path",{d:"M9.00012 16.2L5.50012 12.7C5.11012 12.31 4.49012 12.31 4.10012 12.7C3.71012 13.09 3.71012 13.71 4.10012 14.1L8.29012 18.29C8.68012 18.68 9.31012 18.68 9.70012 18.29L20.3001 7.70001C20.6901 7.31001 20.6901 6.69001 20.3001 6.30001C19.9101 5.91001 19.2901 5.91001 18.9001 6.30001L9.00012 16.2Z"})}))}},17163:function(e,n,t){"use strict";var r=t(70865),i=t(96670),o=t(52322);t(2784);var s=t(6816);n.Z=function(e){return(0,o.jsx)(s.Z,(0,i.Z)((0,r.Z)({viewBox:"0 0 24 24"},e),{children:(0,o.jsx)("path",{d:"M4 13C5.1 13 6 12.1 6 11C6 9.9 5.1 9 4 9C2.9 9 2 9.9 2 11C2 12.1 2.9 13 4 13ZM5.13 14.1C4.76 14.04 4.39 14 4 14C3.01 14 2.07 14.21 1.22 14.58C0.48 14.9 0 15.62 0 16.43V17C0 17.5523 0.447715 18 1 18H4.5V16.39C4.5 15.56 4.73 14.78 5.13 14.1ZM20 13C21.1 13 22 12.1 22 11C22 9.9 21.1 9 20 9C18.9 9 18 9.9 18 11C18 12.1 18.9 13 20 13ZM24 16.43C24 15.62 23.52 14.9 22.78 14.58C21.93 14.21 20.99 14 20 14C19.61 14 19.24 14.04 18.87 14.1C19.27 14.78 19.5 15.56 19.5 16.39V18H23C23.5523 18 24 17.5523 24 17V16.43ZM16.24 13.65C15.07 13.13 13.63 12.75 12 12.75C10.37 12.75 8.93 13.14 7.76 13.65C6.68 14.13 6 15.21 6 16.39V17C6 17.5523 6.44772 18 7 18H17C17.5523 18 18 17.5523 18 17V16.39C18 15.21 17.32 14.13 16.24 13.65ZM8.07 16C8.16 15.77 8.2 15.61 8.98 15.31C9.95 14.93 10.97 14.75 12 14.75C13.03 14.75 14.05 14.93 15.02 15.31C15.79 15.61 15.83 15.77 15.93 16H8.07ZM12 8C12.55 8 13 8.45 13 9C13 9.55 12.55 10 12 10C11.45 10 11 9.55 11 9C11 8.45 11.45 8 12 8ZM12 6C10.34 6 9 7.34 9 9C9 10.66 10.34 12 12 12C13.66 12 15 10.66 15 9C15 7.34 13.66 6 12 6Z"})}))}}},function(e){e.O(0,[6002,6183,5074,9774,2888,179],function(){return e(e.s=4708)}),_N_E=e.O()}]);
//# sourceMappingURL=create-profile-86b20a036ce5a856.js.map